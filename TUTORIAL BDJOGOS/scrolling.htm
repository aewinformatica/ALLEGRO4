<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0056)http://www.bdjogos.com/conteudo.php?link=capitulo_30.php -->
<HTML><HEAD><TITLE></TITLE>
<META content="" name=title>
<META 
content="Biblioteca de programação de jogos brasileira. Conteúdo Aberto! A Biblioteca dos Desenvolvedores de jogos" 
name=description>
<META 
content="Jogos Biblioteca biblio Desenvolvimento Desenvolvedores Desenvolver programa programação games melhor ambicioso programações progra programar c/ c/c++ c++ java asp pascal algoritmo bdjogos exercícios nintendo Allegro Desenvolvimento de Jogos Programação de Jogos Desenvolvimento para Consoles Programação para Consoles ds nintendods visual double buffer 3d graficos 3D matematica aritme timer int string" 
name=keywords>
<META content=www.bdjogos.com.br name=url>
<META content=Portuguese name=language>
<META content="Adriano Waltrick - Bruno A. Rovela" name=author>
<META content=GNU name=copyright>
<META http-equiv=Content-Type content="text/html; charset=iso-8859-1"><LINK 
href="scrolling_arquivos/estilos.css" type=text/css rel=stylesheet><LINK 
href="scrolling_arquivos/indentador.css" type=text/css rel=stylesheet>
<SCRIPT language=javascript src="scrolling_arquivos/indentador.js"></SCRIPT>

<META content="MSHTML 6.00.2900.2180" name=GENERATOR></HEAD>
<BODY vLink=#cd1006 aLink=#cd1006 link=#cd1006 bgColor=#ffffff leftMargin=0 
background=scrolling_arquivos/bg.jpg topMargin=0 marginheight="0" 
marginwidth="0">
<SCRIPT language=javascript src="scrolling_arquivos/posicao_mouse.js" 
type=text/javascript></SCRIPT>

<SCRIPT language=javascript>
/*
Autor 			: Adriano
Data  			: 18/08/2006
Descrição		: faz uma layer seguir o mouse
*/
function atualiza_pos_layer( vlayer )
{	
	vlayer.style.visibility = 'visible';
	getMouse_Posicao(document.onmousemove);
			
	
	vlayer.top  = pos_mouse_y+30;
	vlayer.left = pos_mouse_x+10;
	
	vlayer.style.top  = pos_mouse_y+30;
	vlayer.style.left = pos_mouse_x+10;

	
	vlayer.style.pixelTop = pos_mouse_y+30;
	vlayer.style.pixelLeft = pos_mouse_x+10;
}

function atualiza_pos_layer2( vlayer )
{	
	vlayer.style.visibility = 'visible';
	getMouse_Posicao(document.onmousemove);
			
	
	vlayer.top  = pos_mouse_y-130;
	vlayer.left = pos_mouse_x+10;
	
	vlayer.style.top  = pos_mouse_y-130;
	vlayer.style.left = pos_mouse_x+10;

	
	vlayer.style.pixelTop = pos_mouse_y-130;
	vlayer.style.pixelLeft = pos_mouse_x+10;
}

function atualiza_layer( vlayer )
{
	vlayer.style.visibility = 'hidden';
}
</SCRIPT>

<STYLE type=text/css>#layer_menu1 {
	Z-INDEX: 1; LEFT: 10px; VISIBILITY: hidden; WIDTH: 220px; CURSOR: hand; POSITION: absolute; TOP: 10px; HEIGHT: 25px
}
#layer_menu2 {
	Z-INDEX: 1; LEFT: 10px; VISIBILITY: hidden; WIDTH: 150px; CURSOR: hand; POSITION: absolute; TOP: 10px; HEIGHT: 25px
}
#layer_menu3 {
	Z-INDEX: 1; LEFT: 10px; VISIBILITY: hidden; WIDTH: 150px; CURSOR: hand; POSITION: absolute; TOP: 10px; HEIGHT: 25px
}
#layer_menu4 {
	Z-INDEX: 1; LEFT: 10px; VISIBILITY: hidden; WIDTH: 150px; CURSOR: hand; POSITION: absolute; TOP: 10px; HEIGHT: 25px
}
#layer_procurar {
	Z-INDEX: 2; LEFT: 584px; WIDTH: 196px; POSITION: absolute; TOP: 47px; HEIGHT: 25px
}
</STYLE>

<DIV id=layer_menu1>
<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width="1%"><IMG height=8 src="scrolling_arquivos/borda_cima1.gif" 
      width=8></TD>
    <TD width="97%" background=scrolling_arquivos/linha_hor_cima.gif><IMG 
      height=8 src="scrolling_arquivos/linha_hor_cima.gif" width=8></TD>
    <TD width="2%"><IMG height=8 src="scrolling_arquivos/borda_cima2.gif" 
      width=8></TD></TR>
  <TR>
    <TD background=scrolling_arquivos/linha_vertical.gif>
      <DIV align=left></DIV></TD>
    <TD class=conteudo bgColor=#ffffff>Conheça a iniciativa da Biblioteca dos 
      Desenvolvedores</TD>
    <TD background=scrolling_arquivos/linha_ver_di.gif>&nbsp;</TD></TR>
  <TR>
    <TD><IMG height=8 src="scrolling_arquivos/borda_baixo1.gif" width=8></TD>
    <TD vAlign=center background=scrolling_arquivos/linha_horizo.gif><IMG 
      height=8 src="scrolling_arquivos/linha_horizo.gif" width=8></TD>
    <TD><IMG height=8 src="scrolling_arquivos/borda_baixo2.gif" 
  width=8></TD></TR></TBODY></TABLE></DIV>
<DIV id=layer_menu2>
<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width="1%"><IMG height=8 src="scrolling_arquivos/borda_cima1.gif" 
      width=8></TD>
    <TD width="97%" background=scrolling_arquivos/linha_hor_cima.gif><IMG 
      height=8 src="scrolling_arquivos/linha_hor_cima.gif" width=8></TD>
    <TD width="2%"><IMG height=8 src="scrolling_arquivos/borda_cima2.gif" 
      width=8></TD></TR>
  <TR>
    <TD background=scrolling_arquivos/linha_vertical.gif>
      <DIV align=left></DIV></TD>
    <TD class=conteudo bgColor=#ffffff>Índice da Biblioteca</TD>
    <TD background=scrolling_arquivos/linha_ver_di.gif>&nbsp;</TD></TR>
  <TR>
    <TD><IMG height=8 src="scrolling_arquivos/borda_baixo1.gif" width=8></TD>
    <TD vAlign=center background=scrolling_arquivos/linha_horizo.gif><IMG 
      height=8 src="scrolling_arquivos/linha_horizo.gif" width=8></TD>
    <TD><IMG height=8 src="scrolling_arquivos/borda_baixo2.gif" 
  width=8></TD></TR></TBODY></TABLE></DIV>
<DIV id=layer_menu3>
<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width="1%"><IMG height=8 src="scrolling_arquivos/borda_cima1.gif" 
      width=8></TD>
    <TD width="97%" background=scrolling_arquivos/linha_hor_cima.gif><IMG 
      height=8 src="scrolling_arquivos/linha_hor_cima.gif" width=8></TD>
    <TD width="2%"><IMG height=8 src="scrolling_arquivos/borda_cima2.gif" 
      width=8></TD></TR>
  <TR>
    <TD background=scrolling_arquivos/linha_vertical.gif>
      <DIV align=left></DIV></TD>
    <TD class=conteudo bgColor=#ffffff>Área dos Usuários</TD>
    <TD background=scrolling_arquivos/linha_ver_di.gif>&nbsp;</TD></TR>
  <TR>
    <TD><IMG height=8 src="scrolling_arquivos/borda_baixo1.gif" width=8></TD>
    <TD vAlign=center background=scrolling_arquivos/linha_horizo.gif><IMG 
      height=8 src="scrolling_arquivos/linha_horizo.gif" width=8></TD>
    <TD><IMG height=8 src="scrolling_arquivos/borda_baixo2.gif" 
  width=8></TD></TR></TBODY></TABLE></DIV>
<DIV id=layer_menu4>
<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width="1%"><IMG height=8 src="scrolling_arquivos/borda_cima1.gif" 
      width=8></TD>
    <TD width="97%" background=scrolling_arquivos/linha_hor_cima.gif><IMG 
      height=8 src="scrolling_arquivos/linha_hor_cima.gif" width=8></TD>
    <TD width="2%"><IMG height=8 src="scrolling_arquivos/borda_cima2.gif" 
      width=8></TD></TR>
  <TR>
    <TD background=scrolling_arquivos/linha_vertical.gif>
      <DIV align=left></DIV></TD>
    <TD class=conteudo bgColor=#ffffff>Fórum de Discussão</TD>
    <TD background=scrolling_arquivos/linha_ver_di.gif>&nbsp;</TD></TR>
  <TR>
    <TD><IMG height=8 src="scrolling_arquivos/borda_baixo1.gif" width=8></TD>
    <TD vAlign=center background=scrolling_arquivos/linha_horizo.gif><IMG 
      height=8 src="scrolling_arquivos/linha_horizo.gif" width=8></TD>
    <TD><IMG height=8 src="scrolling_arquivos/borda_baixo2.gif" 
  width=8></TD></TR></TBODY></TABLE></DIV>
<DIV id=layer_procurar>
<TABLE cellSpacing=1 cellPadding=2 width="100%" border=0>
  <FORM id=form1 name=form1 action=procurar.php method=post>
  <TBODY>
  <TR>
    <TD><LABEL>
      <DIV align=right><INPUT class=conteudo2 size=15 name=procurar> 
      </DIV></LABEL></TD></TR>
  <TR>
    <TD>
      <DIV align=right><INPUT class=conteudo2 type=submit value=Pesquisar name=Submit> 
      </DIV></TD></TR></FORM></TBODY></TABLE></DIV>
<TABLE cellSpacing=0 cellPadding=0 width=781 border=0>
  <TBODY>
  <TR>
    <TD vAlign=top colSpan=2 height=101>
      <TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
        <TBODY>
        <TR>
          <TD vAlign=top width=235 height=101><A 
            href="http://www.bdjogos.com/"><IMG alt="" 
            src="scrolling_arquivos/index_01.jpg" border=0></A></TD>
          <TD vAlign=top width=81><A 
            onmousemove=atualiza_pos_layer(layer_menu1); 
            onmouseout=atualiza_layer(layer_menu1); 
            href="http://www.bdjogos.com/conteudo.php"><IMG 
            src="scrolling_arquivos/index_02.jpg" border=0> </A></TD>
          <TD vAlign=top width=73><A 
            onmousemove=atualiza_pos_layer(layer_menu2); 
            onmouseout=atualiza_layer(layer_menu2); 
            href="http://www.bdjogos.com/biblioteca.php"><IMG 
            src="scrolling_arquivos/index_03.jpg" border=0></A></TD>
          <TD vAlign=top width=80><A 
            onmousemove=atualiza_pos_layer(layer_menu3); 
            onmouseout=atualiza_layer(layer_menu3); 
            href="http://www.bdjogos.com/usuarios.php"><IMG 
            src="scrolling_arquivos/index_04.jpg" border=0></A></TD>
          <TD vAlign=top width=90><A 
            onmousemove=atualiza_pos_layer(layer_menu4); 
            onmouseout=atualiza_layer(layer_menu4); 
            href="http://www.bdjogos.com/forum/"><IMG alt=Forúm 
            src="scrolling_arquivos/index_05.jpg" border=0></A></TD>
          <TD vAlign=top width=221><IMG alt="" 
            src="scrolling_arquivos/index_06.jpg"></TD></TR></TBODY></TABLE></TD>
    <TD vAlign=top width=1 background=scrolling_arquivos/111.jpg 
      rowSpan=2><IMG height=1 src="scrolling_arquivos/111.jpg" 
  width=1></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=0 width=781 border=0>
  <TBODY>
  <TR>
    <TD width=27 height=10></TD>
    <TD width=228></TD>
    <TD width=22></TD>
    <TD width=228></TD>
    <TD width=22></TD>
    <TD width=228></TD>
    <TD width=25></TD>
    <TD vAlign=top width=1 background=scrolling_arquivos/111.jpg 
      rowSpan=2><IMG height=1 src="scrolling_arquivos/111.jpg" width=1></TD></TR>
  <TR>
    <TD height=333>&nbsp;</TD>
    <TD vAlign=top colSpan=5>
      <TABLE cellSpacing=0 cellPadding=0 width=728 bgColor=#ffffff border=0>
        <TBODY>
        <TR>
          <TD vAlign=top colSpan=3 height=21><IMG height=21 
            src="scrolling_arquivos/sub-1.jpg" width=728></TD></TR>
        <TR>
          <TD width=10 height=303>&nbsp;</TD>
          <TD vAlign=top><SPAN class=titulos>30 - Rolagem de Cenário ( Scroll 
            ou Scrolling ) </SPAN>
            <HR>

            <P class=conteudo>Existem várias formas de se fazer um efeito de 
            Scrolling.<BR>Vamos aprender a fazer 3 tipos de Efeitos.</P>
            <P class=titulos>Scrolling falso </P>
            <P class=conteudo>Um exemplo de scrolling falso é o exemplo do 
            espaço aonde as estrelas vão passando, umas bem lentas e outras 
            rápidamente dando o efeito de que o cenário está andando. </P>
            <P class=conteudo>Um outro exemplo é de um cenário que tem a mesma 
            imagem de fundo, quando o personagem vai andando a imagem vai 
            andando também, mais ela acaba sempre se repetindo.</P>
            <P class=conteudo>Vamos trabalhar com os 2 exemplos, primeiro, 
            mostraremos nosso programa base que mostra e limita os FPS.</P>
            <HR>
            <SPAN class=titulos_texto>CÓDIGO... </SPAN>
            <HR>
            <SPAN class=codigo>#include &lt;allegro.h&gt;<BR><BR><SPAN 
            class=comentario>// PROGRAMA BASE </SPAN><BR><BR><SPAN 
            class=comentario>// variáveis globais</SPAN><BR>int fps = 0;<BR>int 
            fps_antigo = 0;<BR>int fps_speed = 0;<BR><BR><SPAN 
            class=comentario>// prototipo do contador de frames</SPAN><BR>void 
            frame_rate();<BR><BR><SPAN class=comentario>// prototipo do contador 
            de velocidade</SPAN><BR>void incrementa_speed();<BR><BR>int 
            main()<BR>{<BR>&nbsp;&nbsp;&nbsp;allegro_init();<BR>&nbsp;&nbsp;&nbsp;set_color_depth(16);<BR>&nbsp;&nbsp;&nbsp;install_keyboard();<BR>&nbsp;&nbsp;&nbsp;set_gfx_mode(GFX_AUTODETECT_WINDOWED, 
            640, 480, 0, 
            0);<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;install_timer();<BR>&nbsp;&nbsp;&nbsp;install_int( 
            frame_rate, 1000 );<BR>&nbsp;&nbsp;&nbsp;install_int_ex( 
            incrementa_speed, BPS_TO_TIMER(60) 
            );<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;BITMAP 
            *buffer = 
            NULL;<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;<SPAN 
            class=comentario>// Criando BUFFER para double 
            buffer</SPAN><BR>&nbsp;&nbsp;&nbsp;buffer = 
            create_bitmap(800,800);<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;<SPAN 
            class=comentario>// Laço 
            principal</SPAN><BR>&nbsp;&nbsp;&nbsp;while( !key[KEY_ESC] 
            )<BR>&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while 
            ( ::fps_speed &gt; 0 
            )<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clear( 
            buffer 
            );<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;textprintf_ex( 
            buffer, font, 10, 10, makecol(255,0,0), -1, "FPS: %d", ::fps_antigo 
            );<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::fps_speed--;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::fps++;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;blit(buffer, 
            screen, 0,0,0,0, SCREEN_W, 
            SCREEN_H);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vsync();<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;destroy_bitmap( 
            buffer 
            );<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;allegro_exit();<BR>&nbsp;&nbsp;&nbsp;return 
            0;<BR>}<BR>END_OF_MAIN();<BR>&nbsp;&nbsp;&nbsp;<BR>void 
            frame_rate()<BR>{<BR>&nbsp;&nbsp;&nbsp;::fps_antigo = 
            ::fps;<BR>&nbsp;&nbsp;&nbsp;::fps = 
            0;<BR>}<BR>&nbsp;&nbsp;&nbsp;<BR>void 
            incrementa_speed()<BR>{<BR>&nbsp;&nbsp;&nbsp;::fps_speed++;<BR>}<BR></SPAN>
            <HR>
            <SPAN class=titulos_texto>FIM DE CÓDIGO... </SPAN>
            <HR>
            <SPAN class=codigo><BR></SPAN><BR>
            <P class=titulos>Exemplo do espaço estrelado.</P>
            <P class=conteudo>O exemplo não tem muita complicação. O resultado 
            se parece muito com os créditos de vários jogos ( Mega Man ).</P>
            <P class=conteudo>Criamos uma classe que sempre fica verificando a 
            posição do objeto, se o objeto está fora da tela, <BR>ele 
            reposiciona o objeto para o começo da tela com uma nova 
            velocidade.</P>
            <P class=conteudo>Preste atenção na forma como eu aloco cada objeto 
            do array de estrelas, como eu uso eles e como a memória é 
            desalocada. </P>
            <HR>
            <SPAN class=titulos_texto>CÓDIGO... </SPAN>
            <HR>
            <SPAN class=codigo>#ifndef STAR_H<BR>#define STAR_H<BR><BR><SPAN 
            class=comentario>// ARQUIVO: star.h</SPAN><BR><SPAN 
            class=comentario>// Data: 18/08/2007</SPAN><BR><BR>const int 
            tamanho_total = 3;<BR>const int velocidade_total = 15;<BR><BR>class 
            Star {<BR><BR>private:<BR><BR>&nbsp;&nbsp;&nbsp;int 
            velocidade;<BR>&nbsp;&nbsp;&nbsp;int 
            id;<BR><BR>public:<BR><BR>&nbsp;&nbsp;&nbsp;Star( int ); <SPAN 
            class=comentario>// construtor</SPAN><BR>&nbsp;&nbsp;&nbsp;~Star(); 
            <SPAN class=comentario>// 
            destrutor</SPAN><BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;void 
            iniciar( int ); <SPAN class=comentario>// inicia o 
            objeto</SPAN><BR>&nbsp;&nbsp;&nbsp;void verificar(); <SPAN 
            class=comentario>// verifica se não chegou no final da 
            tela</SPAN><BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;int 
            x;<BR>&nbsp;&nbsp;&nbsp;int y;<BR>&nbsp;&nbsp;&nbsp;int 
            tamanho;<BR><BR>};<BR><BR>#endif</SPAN> 
            <HR>
            <SPAN class=titulos_texto>FIM DE CÓDIGO... </SPAN>
            <HR>

            <HR>
            <SPAN class=titulos_texto>CÓDIGO... </SPAN>
            <HR>
            <SPAN class=codigo>#include &lt;allegro.h&gt;<BR>#include 
            &lt;iostream&gt;<BR>#include "star.h"<BR><BR><SPAN 
            class=comentario>// ARQUIVO: star.cpp</SPAN><BR><SPAN 
            class=comentario>// Data: 18/08/2007</SPAN><BR><BR><BR><SPAN 
            class=comentario>// construtor</SPAN><BR>Star::Star( int vid 
            )<BR>{<BR>&nbsp;&nbsp;&nbsp;this-&gt;id = 
            vid;<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;this-&gt;velocidade 
            = 0;<BR>&nbsp;&nbsp;&nbsp;this-&gt;x = 
            0;<BR>&nbsp;&nbsp;&nbsp;this-&gt;y = 
            0;<BR>&nbsp;&nbsp;&nbsp;this-&gt;tamanho = 
            0;<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;this-&gt;x = 1 + 
            rand() % SCREEN_W;<BR>&nbsp;&nbsp;&nbsp;this-&gt;y = this-&gt;id + 
            rand() % ( this-&gt;id + 10 
            );<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;this-&gt;velocidade = 
            ( 1 + rand() % (::velocidade_total) 
            );<BR>&nbsp;&nbsp;&nbsp;this-&gt;tamanho = 1 + rand() % 
            (::tamanho_total);<BR>}<BR>&nbsp;&nbsp;&nbsp;<BR><SPAN 
            class=comentario>// 
            destrutor</SPAN><BR>Star::~Star()<BR>{<BR>&nbsp;&nbsp;&nbsp;this-&gt;velocidade 
            = 0;<BR>&nbsp;&nbsp;&nbsp;this-&gt;x = 
            0;<BR>&nbsp;&nbsp;&nbsp;this-&gt;y = 
            0;<BR>&nbsp;&nbsp;&nbsp;this-&gt;tamanho = 
            0;<BR>}<BR>&nbsp;&nbsp;&nbsp;<BR><SPAN class=comentario>// inicia o 
            objeto</SPAN><BR>void Star::iniciar( int i 
            )<BR>{<BR>&nbsp;&nbsp;&nbsp;if ( i == 0 
            )<BR>&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i = 
            1;<BR>&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;this-&gt;y 
            = i + rand() % ( i + 10 
            );<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;this-&gt;velocidade = 
            ( 1 + rand() % (::velocidade_total) 
            );<BR>&nbsp;&nbsp;&nbsp;this-&gt;tamanho = 1 + rand() % 
            (::tamanho_total);<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;this-&gt;x 
            = SCREEN_W;<BR>}<BR>&nbsp;&nbsp;&nbsp;<BR><SPAN class=comentario>// 
            verifica se não chegou no final da tela</SPAN><BR>void 
            Star::verificar()<BR>{<BR>&nbsp;&nbsp;&nbsp;if ( this-&gt;x &gt; 0 
            )<BR>&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this-&gt;x 
            -= 
            this-&gt;velocidade;<BR>&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;else<BR>&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this-&gt;iniciar( 
            this-&gt;id );<BR>&nbsp;&nbsp;&nbsp;}<BR>}<BR></SPAN><BR>
            <HR>
            <SPAN class=titulos_texto>FIM DE CÓDIGO... </SPAN>
            <HR>
            <BR>
            <HR>
            <SPAN class=titulos_texto>CÓDIGO... </SPAN>
            <HR>
            <SPAN class=codigo>#include &lt;allegro.h&gt;<BR>#include 
            &lt;iostream&gt;<BR>#include &lt;ctime&gt;<BR>#include 
            "star.h"<BR><BR><SPAN class=comentario>// ARQUIVO: 
            main.cpp</SPAN><BR><SPAN class=comentario>// Data: 
            18/08/2007</SPAN><BR><BR><BR><SPAN class=comentario>// Exemplo de 
            scrolling falso</SPAN><BR><BR><SPAN class=comentario>// variáveis 
            globais</SPAN><BR>int fps = 0;<BR>int fps_antigo = 0;<BR>int 
            fps_speed = 0;<BR><BR><SPAN class=comentario>// prototipo do 
            contador de frames</SPAN><BR>void frame_rate();<BR><BR><SPAN 
            class=comentario>// prototipo do contador de 
            velocidade</SPAN><BR>void incrementa_speed();<BR><BR>int 
            main()<BR>{<BR>&nbsp;&nbsp;&nbsp;allegro_init();<BR>&nbsp;&nbsp;&nbsp;set_color_depth(16);<BR>&nbsp;&nbsp;&nbsp;install_keyboard();<BR>&nbsp;&nbsp;&nbsp;set_gfx_mode(GFX_AUTODETECT_WINDOWED, 
            640, 480, 0, 0);<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;srand( 
            time(0) ); <SPAN class=comentario>// determina a 
            randomização</SPAN><BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;install_timer();<BR>&nbsp;&nbsp;&nbsp;install_int( 
            frame_rate, 1000 );<BR>&nbsp;&nbsp;&nbsp;install_int_ex( 
            incrementa_speed, BPS_TO_TIMER(60) 
            );<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;BITMAP 
            *buffer = NULL;<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;int i = 
            0;<BR>&nbsp;&nbsp;&nbsp;int total_estrelas = 
            SCREEN_H;<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;Star 
            *estrelas[total_estrelas];<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;<SPAN 
            class=comentario>// inicia as 
            estrelas</SPAN><BR>&nbsp;&nbsp;&nbsp;for ( i=0; i&lt; 
            total_estrelas; i++ 
            )<BR>&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;estrelas[ 
            i ] = new Star( i 
            );<BR>&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;<SPAN 
            class=comentario>// Criando BUFFER para double 
            buffer</SPAN><BR>&nbsp;&nbsp;&nbsp;buffer = 
            create_bitmap(800,800);<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;<SPAN 
            class=comentario>// Laço 
            principal</SPAN><BR>&nbsp;&nbsp;&nbsp;while( !key[KEY_ESC] 
            )<BR>&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while 
            ( ::fps_speed &gt; 0 
            )<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clear( 
            buffer 
            );<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN 
            class=comentario>// imprime as estrelas na tela e verifica se ela 
            não chegou no final da 
            tela</SPAN><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for 
            ( i=0; i&lt; total_estrelas; i++ 
            )<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;putpixel(buffer, 
            estrelas[ i ]-&gt;x, estrelas[ i ]-&gt;y, 
            makecol(255,255,255));<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;estrelas[ 
            i 
            ]-&gt;verificar();<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;textprintf_ex( 
            buffer, font, 10, 10, makecol(255,0,0), -1, "FPS: %d", ::fps_antigo 
            );<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::fps_speed--;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::fps++;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;blit(buffer, 
            screen, 0,0,0,0, SCREEN_W, 
            SCREEN_H);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vsync();<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;<SPAN 
            class=comentario>// apaga as estrelas da 
            memoria</SPAN><BR>&nbsp;&nbsp;&nbsp;for ( i=0; i&lt; total_estrelas; 
            i++ 
            )<BR>&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;delete 
            estrelas[i];<BR>&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;destroy_bitmap( 
            buffer 
            );<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;allegro_exit();<BR>&nbsp;&nbsp;&nbsp;return 
            0;<BR>}<BR>END_OF_MAIN();<BR>&nbsp;&nbsp;&nbsp;<BR>void 
            frame_rate()<BR>{<BR>&nbsp;&nbsp;&nbsp;::fps_antigo = 
            ::fps;<BR>&nbsp;&nbsp;&nbsp;::fps = 
            0;<BR>}<BR>&nbsp;&nbsp;&nbsp;<BR>void 
            incrementa_speed()<BR>{<BR>&nbsp;&nbsp;&nbsp;::fps_speed++;<BR>}</SPAN> 

            <HR>
            <SPAN class=titulos_texto>FIM DE CÓDIGO... </SPAN>
            <HR>

            <P class=titulos>Exemplo cenário com imagem de fundo repetida. </P>
            <P class=conteudo>Este é um exemplo bastante utilizado em jogos de 
            scroll vertical, como o Ninja Gaiden.<BR>Faremos uma imagem de fundo 
            passar lentamente, e uma imagem mais perto passar bem rápido, 
            passando a impressão de velocidade e movimentação do cenário.</P>
            <P class=conteudo>Vamos usar as seguintes imagens retiradas do Ninja 
            Gaiden 3.</P>
            <P class=conteudo align=center><IMG height=180 
            src="scrolling_arquivos/capitulo30_1.jpg" width=511 border=1></P>
            <P class=conteudo align=left>Este será o céu, é uma imagem que 
            andará bem lentamente. <BR>Agora vamos pegar a segunda paisagem que 
            andará rapidamente, dando o efeito de scroll.</P>
            <P class=conteudo align=center><IMG height=149 
            src="scrolling_arquivos/capitulo30_2.jpg" width=260 border=1> </P>
            <P class=conteudo align=center>&nbsp;</P>
            <P class=conteudo align=left>Novamente iremos utilizar nosso 
            travador de FPS.<BR>A lógica do programa é fazer copias das imagens, 
            para que o usuário não perceba que elas tem um inicio e um 
            fim.<BR>Iremos concatenar a imagem para fazer isso.</P>
            <P class=conteudo align=left><BR></P>
            <HR>
            <SPAN class=titulos_texto>CÓDIGO... </SPAN>
            <HR>
            <SPAN class=codigo>#include &lt;allegro.h&gt;<BR><BR><SPAN 
            class=comentario>// ARQUIVO: main.cpp</SPAN><BR><SPAN 
            class=comentario>// Data: 20/08/2007</SPAN><BR><BR><BR><SPAN 
            class=comentario>// Exemplo de scrolling falso</SPAN><BR><BR><SPAN 
            class=comentario>// variáveis globais</SPAN><BR>int fps = 0;<BR>int 
            fps_antigo = 0;<BR>int fps_speed = 0;<BR><BR><SPAN 
            class=comentario>// prototipo do contador de frames</SPAN><BR>void 
            frame_rate();<BR><BR><SPAN class=comentario>// prototipo do contador 
            de velocidade</SPAN><BR>void incrementa_speed();<BR><BR>int 
            main()<BR>{<BR>&nbsp;&nbsp;&nbsp;allegro_init();<BR>&nbsp;&nbsp;&nbsp;set_color_depth(16);<BR>&nbsp;&nbsp;&nbsp;install_keyboard();<BR>&nbsp;&nbsp;&nbsp;set_gfx_mode(GFX_AUTODETECT_WINDOWED, 
            640, 480, 0, 
            0);<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;install_timer();<BR>&nbsp;&nbsp;&nbsp;install_int( 
            frame_rate, 1000 );<BR>&nbsp;&nbsp;&nbsp;install_int_ex( 
            incrementa_speed, BPS_TO_TIMER(60) 
            );<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;<SPAN 
            class=comentario>// Criando BUFFER para double 
            buffer</SPAN><BR>&nbsp;&nbsp;&nbsp;BITMAP *buffer = 
            NULL;<BR>&nbsp;&nbsp;&nbsp;buffer = 
            create_bitmap(800,800);<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;<SPAN 
            class=comentario>// Load das imagens .bmp ( converter de jpg para 
            bmp )</SPAN><BR>&nbsp;&nbsp;&nbsp;BITMAP *img_fundo1 = 
            NULL;<BR>&nbsp;&nbsp;&nbsp;BITMAP *img_fundo2 = 
            NULL;<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;img_fundo1 = 
            load_bitmap("ceu1.bmp", NULL );<BR>&nbsp;&nbsp;&nbsp;img_fundo2 = 
            load_bitmap("cenario2.bmp", NULL 
            );<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;<SPAN 
            class=comentario>// essas variáveis são variáveis auxiliares que 
            ajudarão muito</SPAN><BR>&nbsp;&nbsp;&nbsp;BITMAP *fundo1 = 
            NULL;<BR>&nbsp;&nbsp;&nbsp;BITMAP *fundo2 = 
            NULL;<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;fundo1 = 
            create_bitmap( 1022, 180 );<BR>&nbsp;&nbsp;&nbsp;fundo2 = 
            create_bitmap( 780, 149 
            );<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;<SPAN 
            class=comentario>// estou criando o fundo em uma variavel 
            auxiliar</SPAN><BR>&nbsp;&nbsp;&nbsp;blit(img_fundo1, fundo1, 0, 0, 
            0, 0, 511, 180 );<BR>&nbsp;&nbsp;&nbsp;blit(img_fundo1, fundo1, 0, 
            0, 511, 0, 511, 180 
            );<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;<SPAN 
            class=comentario>// estou usando masked para ficar incolor a area 
            rosa</SPAN><BR>&nbsp;&nbsp;&nbsp;masked_blit(img_fundo2, fundo2, 0, 
            0, 0, 0, 260, 149 );<BR>&nbsp;&nbsp;&nbsp;masked_blit(img_fundo2, 
            fundo2, 0, 0, 260, 0, 260, 149 
            );<BR>&nbsp;&nbsp;&nbsp;masked_blit(img_fundo2, fundo2, 0, 0, 420, 
            0, 260, 149 
            );<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;<SPAN 
            class=comentario>// Laço 
            principal</SPAN><BR>&nbsp;&nbsp;&nbsp;while( !key[KEY_ESC] 
            )<BR>&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while 
            ( ::fps_speed &gt; 0 
            )<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clear( 
            buffer 
            );<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;masked_blit( 
            fundo1, buffer, 0, 0, 0, 0, 1022, 180 
            );<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;masked_blit( 
            fundo2, buffer, 0, 0, 0, 130, 780, 149 
            );<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;textprintf_ex( 
            buffer, font, 10, 10, makecol(255,0,0), -1, "FPS: %d", ::fps_antigo 
            );<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::fps_speed--;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::fps++;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;blit(buffer, 
            screen, 0,0,0,0, SCREEN_W, 
            SCREEN_H);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vsync();<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;destroy_bitmap( 
            buffer );<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;destroy_bitmap( 
            img_fundo1 );<BR>&nbsp;&nbsp;&nbsp;destroy_bitmap( img_fundo2 
            );<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;destroy_bitmap( fundo1 
            );<BR>&nbsp;&nbsp;&nbsp;destroy_bitmap( fundo2 
            );<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;allegro_exit();<BR>&nbsp;&nbsp;&nbsp;return 
            0;<BR>}<BR>END_OF_MAIN();<BR>&nbsp;&nbsp;&nbsp;<BR>void 
            frame_rate()<BR>{<BR>&nbsp;&nbsp;&nbsp;::fps_antigo = 
            ::fps;<BR>&nbsp;&nbsp;&nbsp;::fps = 
            0;<BR>}<BR>&nbsp;&nbsp;&nbsp;<BR>void 
            incrementa_speed()<BR>{<BR>&nbsp;&nbsp;&nbsp;::fps_speed++;<BR>}<BR></SPAN><BR>
            <HR>
            <SPAN class=titulos_texto>FIM DE CÓDIGO... </SPAN>
            <HR>

            <P class=conteudo align=left>Agora vamos implementar no código 
            acima, a rolagem do cenário. <BR>Observe no código abaixo, que 
            colamos 2 imagens iguais de fundo no buffer.. uma ao lado da 
            outra.<BR>A lógica funciona da seguinte maneira.</P>
            <P class=conteudo align=left>Enquanto nosso contador for menor que o 
            tamanho total de 1 imagem ( a mesma imagem montada uma ao lado da 
            outra ), <BR>a gente vai incrementando ela e mostrando na tela a 
            imagem na posição do contador. Desta forma a imagem vai andando para 
            o lado.<BR><BR>Para que a imagem seja repetida corretamente, a 
            segunda imagem é colada na posição<BR><SPAN 
            class=codigo>(total_fundo1*(-1))+x_fundo1)</SPAN></P>
            <P class=conteudo align=left>Que é igual a, -1022 + x_fundo1, isso 
            vai fazer com que nossa segunda imagem fique exatamente no final da 
            primeira imagem, e isso também vai previnir de que o cenário seja 
            quebrado. <BR></P>
            <HR>
            <SPAN class=titulos_texto>CÓDIGO... </SPAN>
            <HR>
            <SPAN class=codigo>#include &lt;allegro.h&gt;<BR><BR><SPAN 
            class=comentario>// ARQUIVO: main.cpp</SPAN><BR><SPAN 
            class=comentario>// Data: 20/08/2007</SPAN><BR><BR><BR><SPAN 
            class=comentario>// Exemplo de scrolling falso</SPAN><BR><BR><SPAN 
            class=comentario>// variáveis globais</SPAN><BR>int fps = 0;<BR>int 
            fps_antigo = 0;<BR>int fps_speed = 0;<BR><BR><SPAN 
            class=comentario>// prototipo do contador de frames</SPAN><BR>void 
            frame_rate();<BR><BR><SPAN class=comentario>// prototipo do contador 
            de velocidade</SPAN><BR>void incrementa_speed();<BR><BR>int 
            main()<BR>{<BR>&nbsp;&nbsp;&nbsp;allegro_init();<BR>&nbsp;&nbsp;&nbsp;set_color_depth(16);<BR>&nbsp;&nbsp;&nbsp;install_keyboard();<BR>&nbsp;&nbsp;&nbsp;set_gfx_mode(GFX_AUTODETECT_WINDOWED, 
            640, 480, 0, 
            0);<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;install_timer();<BR>&nbsp;&nbsp;&nbsp;install_int( 
            frame_rate, 1000 );<BR>&nbsp;&nbsp;&nbsp;install_int_ex( 
            incrementa_speed, BPS_TO_TIMER(30) 
            );<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;<SPAN 
            class=comentario>// Criando BUFFER para double 
            buffer</SPAN><BR>&nbsp;&nbsp;&nbsp;BITMAP *buffer = 
            NULL;<BR>&nbsp;&nbsp;&nbsp;buffer = 
            create_bitmap(800,800);<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;<SPAN 
            class=comentario>// Load das imagens .bmp ( converter de jpg para 
            bmp )</SPAN><BR>&nbsp;&nbsp;&nbsp;BITMAP *img_fundo1 = 
            NULL;<BR>&nbsp;&nbsp;&nbsp;BITMAP *img_fundo2 = 
            NULL;<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;img_fundo1 = 
            load_bitmap("ceu1.bmp", NULL );<BR>&nbsp;&nbsp;&nbsp;img_fundo2 = 
            load_bitmap("cenario2.bmp", NULL 
            );<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;<SPAN 
            class=comentario>// essas variáveis são variáveis auxiliares que 
            ajudarão muito</SPAN><BR>&nbsp;&nbsp;&nbsp;BITMAP *fundo1 = 
            NULL;<BR>&nbsp;&nbsp;&nbsp;BITMAP *fundo2 = 
            NULL;<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;fundo1 = 
            create_bitmap( 1022, 180 );<BR>&nbsp;&nbsp;&nbsp;fundo2 = 
            create_bitmap( 780, 149 
            );<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;<SPAN 
            class=comentario>// estou criando o fundo em uma variavel 
            auxiliar</SPAN><BR>&nbsp;&nbsp;&nbsp;blit(img_fundo1, fundo1, 0, 0, 
            0, 0, 511, 180 );<BR>&nbsp;&nbsp;&nbsp;blit(img_fundo1, fundo1, 0, 
            0, 511, 0, 511, 180 
            );<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;<SPAN 
            class=comentario>// estou usando masked para ficar incolor a area 
            rosa</SPAN><BR>&nbsp;&nbsp;&nbsp;masked_blit(img_fundo2, fundo2, 0, 
            0, 0, 0, 260, 149 );<BR>&nbsp;&nbsp;&nbsp;masked_blit(img_fundo2, 
            fundo2, 0, 0, 260, 0, 260, 149 
            );<BR>&nbsp;&nbsp;&nbsp;masked_blit(img_fundo2, fundo2, 0, 0, 520, 
            0, 260, 149 );<BR>&nbsp;&nbsp;&nbsp;<SPAN 
            class=comentario>//masked_blit(img_fundo2, fundo2, 0, 0, 420, 0, 
            260, 149 
            );</SPAN><BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;<SPAN 
            class=comentario>// Inicio programação da 
            rolagem</SPAN><BR>&nbsp;&nbsp;&nbsp;int velocidade_fundo1 = 
            1;<BR>&nbsp;&nbsp;&nbsp;int velocidade_fundo2 = 
            6;<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;int total_fundo1 = 
            1022;<BR>&nbsp;&nbsp;&nbsp;int total_fundo2 = 
            780;<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;int x_fundo1 = 
            0;<BR>&nbsp;&nbsp;&nbsp;int x_fundo2 = 
            0;<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;<SPAN 
            class=comentario>// Laço 
            principal</SPAN><BR>&nbsp;&nbsp;&nbsp;while( !key[KEY_ESC] 
            )<BR>&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while 
            ( ::fps_speed &gt; 0 
            )<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clear( 
            buffer 
            );<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN 
            class=comentario>// faz com que, antes que o segundo fundo termine, 
            começe a imprimir o primeiro 
            fundo</SPAN><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if 
            ( x_fundo1 &lt; ( total_fundo1 ) 
            )<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x_fundo1 
            = x_fundo1 + 
            velocidade_fundo1;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x_fundo1 
            = 
            0;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN 
            class=comentario>// vai passando o primeiro 
            fundo</SPAN><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;masked_blit( 
            fundo1, buffer, x_fundo1, 0, 0, 0, 1022, 180 
            );<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN 
            class=comentario>// imprime no final do primeiro fundo, e vai 
            passando</SPAN><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;masked_blit( 
            fundo1, buffer, ((total_fundo1*(-1))+x_fundo1), 0, 0, 0, 1022, 180 
            );<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if 
            ( x_fundo2 &lt; ( total_fundo2 ) 
            )<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x_fundo2 
            = x_fundo2 + 
            velocidade_fundo2;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x_fundo2 
            = 
            0;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;masked_blit( 
            fundo2, buffer, x_fundo2, 0, 0, 130, 780, 149 
            );<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;masked_blit( 
            fundo2, buffer, ((total_fundo2*(-1))+x_fundo2), 0, 0, 130, 780, 149 
            );<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;textprintf_ex( 
            buffer, font, 10, 10, makecol(255,0,0), -1, "FPS: %d", ::fps_antigo 
            );<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::fps_speed--;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::fps++;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;blit(buffer, 
            screen, 0,0,0,0, SCREEN_W, 
            SCREEN_H);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vsync();<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;destroy_bitmap( 
            buffer );<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;destroy_bitmap( 
            img_fundo1 );<BR>&nbsp;&nbsp;&nbsp;destroy_bitmap( img_fundo2 
            );<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;destroy_bitmap( fundo1 
            );<BR>&nbsp;&nbsp;&nbsp;destroy_bitmap( fundo2 
            );<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;allegro_exit();<BR>&nbsp;&nbsp;&nbsp;return 
            0;<BR>}<BR>END_OF_MAIN();<BR><BR>void 
            frame_rate()<BR>{<BR>&nbsp;&nbsp;&nbsp;::fps_antigo = 
            ::fps;<BR>&nbsp;&nbsp;&nbsp;::fps = 0;<BR>}<BR><BR>void 
            incrementa_speed()<BR>{<BR>&nbsp;&nbsp;&nbsp;::fps_speed++;<BR>}</SPAN> 

            <HR>
            <SPAN class=titulos_texto>FIM DE CÓDIGO... </SPAN>
            <HR>
            <SPAN class=codigo><BR></SPAN><BR>
            <P class=titulos>Exemplo de scrolling verdadeiro </P>
            <P class=conteudo>Imagine uma fase do Super Mario, quando o 
            personagem chega no limite da tela, a tela começa a andar, e os 
            sprites de fundo começam a se mover. </P>
            <P class=conteudo>É esse tipo de simulação que iremos mostrar 
            agora.<BR>O código abaixo é controlado pelo teclado. Utilize as 
            setas para fazer o cenário andar. <BR></P>
            <P class=conteudo>Para escrever o código, primeiro precisamos saber 
            que o personagem é o centro da tela da nossa rolagem ( ele não 
            precisa estar no centro da tela necessariamente ).</P>
            <P class=conteudo>Quando o personagem se mover, devemos mover todos 
            os tiles do fundo na posição oposta. <BR>Para isso, precisamos 
            também ter o tamanho total da tela, no caso, a fase do nosso 
            jogo.</P>
            <P class=conteudo>Nossa tela medirá 500 px.<BR>Nós vamos especificar 
            o tamanho do cenario em 250 tiles.<BR>Cada tile terá 50 px de 
            tamanho total; </P>
            <P class=conteudo>Iremos usar também a parte central da tela, desta 
            forma, podemos ver o efeito de scrolling. </P>
            <P class=conteudo>Você vai perceber que nossos códigos estão 
            começando a aumentar hehehe.. Isto é normal.<BR>A técnica utilizada 
            abaixo pode ser usada com um construtor de cenários, basta entender 
            o algoritmo de rolagem que é bem simples.</P>
            <HR>
            <SPAN class=titulos_texto>CÓDIGO... </SPAN>
            <HR>
            <SPAN class=codigo>#include &lt;allegro.h&gt;<BR><BR><SPAN 
            class=comentario>// ARQUIVO: main.cpp</SPAN><BR><SPAN 
            class=comentario>// Data: 22/08/2007</SPAN><BR><BR><SPAN 
            class=comentario>// Exemplo de scrolling 
            verdadeiro</SPAN><BR><BR><SPAN class=comentario>// variáveis 
            globais</SPAN><BR>int fps = 0;<BR>int fps_antigo = 0;<BR>int 
            fps_speed = 0;<BR><BR><SPAN class=comentario>// prototipo do 
            contador de frames</SPAN><BR>void frame_rate();<BR><BR><SPAN 
            class=comentario>// prototipo do contador de 
            velocidade</SPAN><BR>void incrementa_speed();<BR><BR>int 
            main()<BR>{<BR>&nbsp;&nbsp;&nbsp;allegro_init();<BR>&nbsp;&nbsp;&nbsp;set_color_depth(16);<BR>&nbsp;&nbsp;&nbsp;install_keyboard();<BR>&nbsp;&nbsp;&nbsp;set_gfx_mode(GFX_AUTODETECT_WINDOWED, 
            640, 480, 0, 
            0);<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;install_timer();<BR>&nbsp;&nbsp;&nbsp;install_int( 
            frame_rate, 1000 );<BR>&nbsp;&nbsp;&nbsp;install_int_ex( 
            incrementa_speed, BPS_TO_TIMER(30) 
            );<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;<SPAN 
            class=comentario>// Criando BUFFER para double 
            buffer</SPAN><BR>&nbsp;&nbsp;&nbsp;BITMAP *buffer = 
            NULL;<BR>&nbsp;&nbsp;&nbsp;buffer = 
            create_bitmap(800,800);<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;<SPAN 
            class=comentario>// variáveis comentadas no escopo do 
            programa</SPAN><BR>&nbsp;&nbsp;&nbsp;const int tamanho_tela = 
            500;<BR>&nbsp;&nbsp;&nbsp;const int inicial_tela = ( 
            (SCREEN_W/2)-(tamanho_tela/2) );<BR>&nbsp;&nbsp;&nbsp;const int 
            cenario = 250; <SPAN class=comentario>// 
            tiles</SPAN><BR>&nbsp;&nbsp;&nbsp;const int tamanho_tile = 
            50;<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;<SPAN 
            class=comentario>// posição de nosso 
            personagem</SPAN><BR>&nbsp;&nbsp;&nbsp;int personagem_pos = 
            inicial_tela + 10;<BR>&nbsp;&nbsp;&nbsp;int x = 
            personagem_pos;<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;<SPAN 
            class=comentario>// auxiliares</SPAN><BR>&nbsp;&nbsp;&nbsp;int i = 
            0;<BR>&nbsp;&nbsp;&nbsp;int total_for = 0;<BR>&nbsp;&nbsp;&nbsp;int 
            posicao = 0;<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;int 
            posicao_cenario_inicial = inicial_tela;<BR>&nbsp;&nbsp;&nbsp;int 
            posicao_cenario = 
            0;<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;<SPAN 
            class=comentario>// Laço 
            principal</SPAN><BR>&nbsp;&nbsp;&nbsp;while( !key[KEY_ESC] 
            )<BR>&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while 
            ( ::fps_speed &gt; 0 
            )<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clear( 
            buffer 
            );<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN 
            class=comentario>// este for faz com que seja mostrado apenas a 
            parte do cenario visivel para o 
            usuário</SPAN><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN 
            class=comentario>// para isso ele só vai 
            mostrar</SPAN><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN 
            class=comentario>// os tiles que cabem na tela ( tamanho_tela / 
            tamanho_tile 
            )</SPAN><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN 
            class=comentario>// mais a posição atual do cenario ( que é 
            incrementado quando se aperta uma tecla 
            )</SPAN><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN 
            class=comentario>// usamos o -1 para trocar o sinal da 
            operação</SPAN><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;total_for 
            = ( tamanho_tela / tamanho_tile )+( posicao_cenario*(-1) 
            );<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for ( 
            i=posicao_cenario; i&lt;=total_for; i++ 
            )<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN 
            class=comentario>// aqui determinamos a posição correta de cada 
            tile</SPAN><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN 
            class=comentario>// usamos a posicao_cenario_inicial para somar 
            aonde começa o 
            cenario</SPAN><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;posicao 
            = ( posicao_cenario + i ) * 
            tamanho_tile;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;posicao 
            += 
            posicao_cenario_inicial;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN 
            class=comentario>// impressão dos tiles nas posições 
            corretas</SPAN><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rectfill(buffer, 
            posicao, 230, posicao+tamanho_tile, 250, makecol(0,0,255) 
            );<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rect(buffer, 
            posicao, 230, posicao+tamanho_tile, 250, makecol(255,0,0) 
            );<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;textprintf_ex( 
            buffer, font, posicao+1, 235, makecol(255,255,0), -1, "%d", i 
            );<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN 
            class=comentario>// esse será nosso limite de 
            tela</SPAN><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rect(buffer, 
            inicial_tela, 10, inicial_tela+tamanho_tela, 250, makecol(0,255,0) 
            );<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN 
            class=comentario>// esse é nosso 
            personagem</SPAN><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;personagem_pos 
            = 
            x;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rectfill(buffer, 
            personagem_pos, 210, personagem_pos+10, 230, makecol(255,255,0) 
            );<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;textprintf_ex( 
            buffer, font, 10, 10, makecol(255,0,0), -1, "FPS: %d", ::fps_antigo 
            );<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::fps_speed--;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::fps++;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if 
            ( key[KEY_RIGHT] 
            )<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN 
            class=comentario>// atualiza a posição do nosso 
            personagem</SPAN><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if 
            ( x &lt; ( tamanho_tela + inicial_tela ) / 2 
            )<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x++;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN 
            class=comentario>// do 
            cenario</SPAN><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN 
            class=comentario>// nunca vai poder passar o limite do 
            cenario</SPAN><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if 
            ( (posicao_cenario ) &gt; - ( ( cenario ) - (tamanho_tela / 
            tamanho_tile) ) 
            )<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;posicao_cenario--;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN 
            class=comentario>// atualiza a posição do nosso 
            personagem</SPAN><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if 
            ( x &lt; (inicial_tela+tamanho_tela)-10 
            )<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x++;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if 
            ( key[KEY_LEFT] 
            )<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN 
            class=comentario>// atualiza a posição do nosso 
            personagem</SPAN><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if 
            ( x &gt; ( tamanho_tela + inicial_tela ) / 2 
            )<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x--;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN 
            class=comentario>// do 
            cenario</SPAN><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN 
            class=comentario>// nunca vai poder passar o limite do 
            cenario</SPAN><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if 
            ( posicao_cenario &lt; cenario &amp;&amp; posicao_cenario &lt; 0 
            )<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;posicao_cenario++;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN 
            class=comentario>// atualiza a posição do nosso 
            personagem</SPAN><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if 
            ( x &gt; ( inicial_tela ) 
            )<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x--;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;blit(buffer, 
            screen, 0,0,0,0, SCREEN_W, 
            SCREEN_H);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vsync();<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;destroy_bitmap( 
            buffer 
            );<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;allegro_exit();<BR>&nbsp;&nbsp;&nbsp;return 
            0;<BR>}<BR>END_OF_MAIN();<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>void 
            frame_rate()<BR>{<BR>&nbsp;&nbsp;&nbsp;::fps_antigo = 
            ::fps;<BR>&nbsp;&nbsp;&nbsp;::fps = 
            0;<BR>}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>void 
            incrementa_speed()<BR>{<BR>&nbsp;&nbsp;&nbsp;::fps_speed++;<BR>}<BR></SPAN><BR>
            <HR>
            <SPAN class=titulos_texto>FIM DE CÓDIGO... </SPAN>
            <HR>

            <P class=conteudo>Teste o código acima.. modifique o tamanho da 
            tela, dos tiles ou do cenário para ver os efeitos.<BR>Preste atenção 
            na configuração da rolagem, que no exemplo está bem rápida. </P>
            <P class=conteudo> </P><BR><SPAN class=conteudo><B>Contribuidor</B> 
            <BR>Adriano Waltrick<BR>23/08/2007 </SPAN>
            <P>
            <HR>
            &nbsp;
            <P></P>
            <TABLE cellSpacing=0 cellPadding=0 width="40%" align=center 
            bgColor=#ffffff border=0>
              <TBODY>
              <TR>
                <TD>
                  <TABLE cellSpacing=0 cellPadding=0 width="100%" align=center 
                  bgColor=#000099 border=0>
                    <TBODY>
                    <TR>
                      <TD>
                        <TABLE cellSpacing=1 cellPadding=5 width="100%" 
                        align=center border=0>
                          <TBODY>
                          <TR>
                            <TD bgColor=#f7f7f7>
                              <P class=conteudo align=center><A class=conteudo 
                              href="http://www.bdjogos.com/conteudo.php?link=adicional_29.php">«&nbsp;Anterior 
                              </A></P></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE></TD>
                <TD>&nbsp;</TD>
                <TD>
                  <TABLE cellSpacing=0 cellPadding=0 width="100%" align=center 
                  bgColor=#000099 border=0>
                    <TBODY>
                    <TR>
                      <TD>
                        <TABLE cellSpacing=1 cellPadding=5 width="100%" 
                        align=center border=0>
                          <TBODY>
                          <TR>
                            <TD bgColor=#f7f7f7>
                              <P class=conteudo align=center><A class=conteudo 
                              href="http://www.bdjogos.com/conteudo.php?link=adicional_30.php">Próximo 
                              » 
                </A></P></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE></TD>
          <TD width=10>&nbsp;</TD></TR>
        <TR>
          <TD height=9></TD>
          <TD></TD>
          <TD></TD></TR></TBODY></TABLE></TD>
    <TD>&nbsp;</TD></TR></TBODY></TABLE>
<SCRIPT 
language=javascript>
salva_codigo();
JsCC_convert();
numeracao();
</SCRIPT>

<TABLE cellSpacing=0 cellPadding=0 width=781 border=0>
  <TBODY>
  <TR>
    <TD vAlign=center align=middle width=780 height=65>
      <P class=conteudo><STRONG><FONT 
      color=#000000>01/06/2007</FONT></STRONG><FONT color=#000000> (C) 
      Copyright. Todos os Direitos Reservados. <A class=codigo 
      href="http://www.bdjogos.com/copy.php">Leia a política de privacidade do 
      portal. </A><BR>É proibida a cópia de conteúdo deste site de acordo com a 
      Lei Brasileira de Direitos Autorais.</FONT></P></TD>
    <TD vAlign=top width=1 background=scrolling_arquivos/111.jpg><IMG height=1 
      src="scrolling_arquivos/111.jpg" width=1></TD></TR>
  <TR>
    <TD vAlign=top background=scrolling_arquivos/111.jpg colSpan=2 
      height=1><IMG height=1 src="scrolling_arquivos/111.jpg" 
  width=1></TD></TR></TBODY></TABLE>
<SCRIPT type=text/javascript>
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</SCRIPT>

<SCRIPT type=text/javascript>
var pageTracker = _gat._getTracker("UA-1936336-1");
pageTracker._initData();
pageTracker._trackPageview();
</SCRIPT>
</BODY></HTML>
