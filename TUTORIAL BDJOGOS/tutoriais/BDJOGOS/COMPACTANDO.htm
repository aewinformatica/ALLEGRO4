<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0052)http://www.bdjogos.com/biblioteca_conteudo.php?id=22 -->
<HTML><HEAD><TITLE></TITLE>
<META content="" name=title>
<META 
content="Biblioteca de programação de jogos brasileira. Conteúdo Aberto! A Biblioteca dos Desenvolvedores de jogos" 
name=description>
<META 
content="Jogos Biblioteca biblio Desenvolvimento Desenvolvedores Desenvolver programa programação games melhor ambicioso programações progra programar c/ c/c++ c++ java asp pascal algoritmo bdjogos exercícios nintendo Allegro Desenvolvimento de Jogos Programação de Jogos Desenvolvimento para Consoles Programação para Consoles ds nintendods visual double buffer 3d graficos 3D matematica aritme timer int string" 
name=keywords>
<META content=www.bdjogos.com.br name=url>
<META content=Portuguese name=language>
<META content="Adriano Waltrick - Bruno A. Rovela" name=author>
<META content=GNU name=copyright>
<META http-equiv=Content-Type content="text/html; charset=iso-8859-1"><LINK 
href="COMPACTANDO_arquivos/estilos.css" type=text/css rel=stylesheet><LINK 
href="COMPACTANDO_arquivos/indentador.css" type=text/css rel=stylesheet>
<SCRIPT language=javascript src="COMPACTANDO_arquivos/indentador.js"></SCRIPT>

<META content="MSHTML 6.00.2900.2180" name=GENERATOR></HEAD>
<BODY vLink=#cd1006 aLink=#cd1006 link=#cd1006 bgColor=#ffffff leftMargin=0 
background=COMPACTANDO_arquivos/bg.jpg topMargin=0 marginheight="0" 
marginwidth="0">
<SCRIPT language=javascript src="COMPACTANDO_arquivos/posicao_mouse.js" 
type=text/javascript></SCRIPT>

<SCRIPT language=javascript>
/*
Autor 			: Adriano
Data  			: 18/08/2006
Descrição		: faz uma layer seguir o mouse
*/
function atualiza_pos_layer( vlayer )
{	
	vlayer.style.visibility = 'visible';
	getMouse_Posicao(document.onmousemove);
			
	
	vlayer.top  = pos_mouse_y+30;
	vlayer.left = pos_mouse_x+10;
	
	vlayer.style.top  = pos_mouse_y+30;
	vlayer.style.left = pos_mouse_x+10;

	
	vlayer.style.pixelTop = pos_mouse_y+30;
	vlayer.style.pixelLeft = pos_mouse_x+10;
}

function atualiza_pos_layer2( vlayer )
{	
	vlayer.style.visibility = 'visible';
	getMouse_Posicao(document.onmousemove);
			
	
	vlayer.top  = pos_mouse_y-130;
	vlayer.left = pos_mouse_x+10;
	
	vlayer.style.top  = pos_mouse_y-130;
	vlayer.style.left = pos_mouse_x+10;

	
	vlayer.style.pixelTop = pos_mouse_y-130;
	vlayer.style.pixelLeft = pos_mouse_x+10;
}

function atualiza_layer( vlayer )
{
	vlayer.style.visibility = 'hidden';
}
</SCRIPT>

<STYLE type=text/css>#layer_menu1 {
	Z-INDEX: 1; LEFT: 10px; VISIBILITY: hidden; WIDTH: 220px; CURSOR: hand; POSITION: absolute; TOP: 10px; HEIGHT: 25px
}
#layer_menu2 {
	Z-INDEX: 1; LEFT: 10px; VISIBILITY: hidden; WIDTH: 150px; CURSOR: hand; POSITION: absolute; TOP: 10px; HEIGHT: 25px
}
#layer_menu3 {
	Z-INDEX: 1; LEFT: 10px; VISIBILITY: hidden; WIDTH: 150px; CURSOR: hand; POSITION: absolute; TOP: 10px; HEIGHT: 25px
}
#layer_menu4 {
	Z-INDEX: 1; LEFT: 10px; VISIBILITY: hidden; WIDTH: 150px; CURSOR: hand; POSITION: absolute; TOP: 10px; HEIGHT: 25px
}
#layer_procurar {
	Z-INDEX: 2; LEFT: 584px; WIDTH: 196px; POSITION: absolute; TOP: 47px; HEIGHT: 25px
}
</STYLE>

<DIV id=layer_menu1>
<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width="1%"><IMG height=8 src="COMPACTANDO_arquivos/borda_cima1.gif" 
      width=8></TD>
    <TD width="97%" background=COMPACTANDO_arquivos/linha_hor_cima.gif><IMG 
      height=8 src="COMPACTANDO_arquivos/linha_hor_cima.gif" width=8></TD>
    <TD width="2%"><IMG height=8 src="COMPACTANDO_arquivos/borda_cima2.gif" 
      width=8></TD></TR>
  <TR>
    <TD background=COMPACTANDO_arquivos/linha_vertical.gif>
      <DIV align=left></DIV></TD>
    <TD class=conteudo bgColor=#ffffff>Conheça a iniciativa da Biblioteca dos 
      Desenvolvedores</TD>
    <TD background=COMPACTANDO_arquivos/linha_ver_di.gif>&nbsp;</TD></TR>
  <TR>
    <TD><IMG height=8 src="COMPACTANDO_arquivos/borda_baixo1.gif" width=8></TD>
    <TD vAlign=center background=COMPACTANDO_arquivos/linha_horizo.gif><IMG 
      height=8 src="COMPACTANDO_arquivos/linha_horizo.gif" width=8></TD>
    <TD><IMG height=8 src="COMPACTANDO_arquivos/borda_baixo2.gif" 
  width=8></TD></TR></TBODY></TABLE></DIV>
<DIV id=layer_menu2>
<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width="1%"><IMG height=8 src="COMPACTANDO_arquivos/borda_cima1.gif" 
      width=8></TD>
    <TD width="97%" background=COMPACTANDO_arquivos/linha_hor_cima.gif><IMG 
      height=8 src="COMPACTANDO_arquivos/linha_hor_cima.gif" width=8></TD>
    <TD width="2%"><IMG height=8 src="COMPACTANDO_arquivos/borda_cima2.gif" 
      width=8></TD></TR>
  <TR>
    <TD background=COMPACTANDO_arquivos/linha_vertical.gif>
      <DIV align=left></DIV></TD>
    <TD class=conteudo bgColor=#ffffff>Índice da Biblioteca</TD>
    <TD background=COMPACTANDO_arquivos/linha_ver_di.gif>&nbsp;</TD></TR>
  <TR>
    <TD><IMG height=8 src="COMPACTANDO_arquivos/borda_baixo1.gif" width=8></TD>
    <TD vAlign=center background=COMPACTANDO_arquivos/linha_horizo.gif><IMG 
      height=8 src="COMPACTANDO_arquivos/linha_horizo.gif" width=8></TD>
    <TD><IMG height=8 src="COMPACTANDO_arquivos/borda_baixo2.gif" 
  width=8></TD></TR></TBODY></TABLE></DIV>
<DIV id=layer_menu3>
<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width="1%"><IMG height=8 src="COMPACTANDO_arquivos/borda_cima1.gif" 
      width=8></TD>
    <TD width="97%" background=COMPACTANDO_arquivos/linha_hor_cima.gif><IMG 
      height=8 src="COMPACTANDO_arquivos/linha_hor_cima.gif" width=8></TD>
    <TD width="2%"><IMG height=8 src="COMPACTANDO_arquivos/borda_cima2.gif" 
      width=8></TD></TR>
  <TR>
    <TD background=COMPACTANDO_arquivos/linha_vertical.gif>
      <DIV align=left></DIV></TD>
    <TD class=conteudo bgColor=#ffffff>Área dos Usuários</TD>
    <TD background=COMPACTANDO_arquivos/linha_ver_di.gif>&nbsp;</TD></TR>
  <TR>
    <TD><IMG height=8 src="COMPACTANDO_arquivos/borda_baixo1.gif" width=8></TD>
    <TD vAlign=center background=COMPACTANDO_arquivos/linha_horizo.gif><IMG 
      height=8 src="COMPACTANDO_arquivos/linha_horizo.gif" width=8></TD>
    <TD><IMG height=8 src="COMPACTANDO_arquivos/borda_baixo2.gif" 
  width=8></TD></TR></TBODY></TABLE></DIV>
<DIV id=layer_menu4>
<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width="1%"><IMG height=8 src="COMPACTANDO_arquivos/borda_cima1.gif" 
      width=8></TD>
    <TD width="97%" background=COMPACTANDO_arquivos/linha_hor_cima.gif><IMG 
      height=8 src="COMPACTANDO_arquivos/linha_hor_cima.gif" width=8></TD>
    <TD width="2%"><IMG height=8 src="COMPACTANDO_arquivos/borda_cima2.gif" 
      width=8></TD></TR>
  <TR>
    <TD background=COMPACTANDO_arquivos/linha_vertical.gif>
      <DIV align=left></DIV></TD>
    <TD class=conteudo bgColor=#ffffff>Fórum de Discussão</TD>
    <TD background=COMPACTANDO_arquivos/linha_ver_di.gif>&nbsp;</TD></TR>
  <TR>
    <TD><IMG height=8 src="COMPACTANDO_arquivos/borda_baixo1.gif" width=8></TD>
    <TD vAlign=center background=COMPACTANDO_arquivos/linha_horizo.gif><IMG 
      height=8 src="COMPACTANDO_arquivos/linha_horizo.gif" width=8></TD>
    <TD><IMG height=8 src="COMPACTANDO_arquivos/borda_baixo2.gif" 
  width=8></TD></TR></TBODY></TABLE></DIV>
<DIV id=layer_procurar>
<TABLE cellSpacing=1 cellPadding=2 width="100%" border=0>
  <FORM id=form1 name=form1 action=procurar.php method=post>
  <TBODY>
  <TR>
    <TD><LABEL>
      <DIV align=right><INPUT class=conteudo2 size=15 name=procurar> 
      </DIV></LABEL></TD></TR>
  <TR>
    <TD>
      <DIV align=right><INPUT class=conteudo2 type=submit value=Pesquisar name=Submit> 
      </DIV></TD></TR></FORM></TBODY></TABLE></DIV>
<TABLE cellSpacing=0 cellPadding=0 width=781 border=0>
  <TBODY>
  <TR>
    <TD vAlign=top colSpan=2 height=101>
      <TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
        <TBODY>
        <TR>
          <TD vAlign=top width=235 height=101><A 
            href="http://www.bdjogos.com/"><IMG alt="" 
            src="COMPACTANDO_arquivos/index_01.jpg" border=0></A></TD>
          <TD vAlign=top width=81><A 
            onmousemove=atualiza_pos_layer(layer_menu1); 
            onmouseout=atualiza_layer(layer_menu1); 
            href="http://www.bdjogos.com/conteudo.php"><IMG 
            src="COMPACTANDO_arquivos/index_02.jpg" border=0> </A></TD>
          <TD vAlign=top width=73><A 
            onmousemove=atualiza_pos_layer(layer_menu2); 
            onmouseout=atualiza_layer(layer_menu2); 
            href="http://www.bdjogos.com/biblioteca.php"><IMG 
            src="COMPACTANDO_arquivos/index_03.jpg" border=0></A></TD>
          <TD vAlign=top width=80><A 
            onmousemove=atualiza_pos_layer(layer_menu3); 
            onmouseout=atualiza_layer(layer_menu3); 
            href="http://www.bdjogos.com/usuarios.php"><IMG 
            src="COMPACTANDO_arquivos/index_04.jpg" border=0></A></TD>
          <TD vAlign=top width=90><A 
            onmousemove=atualiza_pos_layer(layer_menu4); 
            onmouseout=atualiza_layer(layer_menu4); 
            href="http://www.bdjogos.com/forum/"><IMG alt=Forúm 
            src="COMPACTANDO_arquivos/index_05.jpg" border=0></A></TD>
          <TD vAlign=top width=221><IMG alt="" 
            src="COMPACTANDO_arquivos/index_06.jpg"></TD></TR></TBODY></TABLE></TD>
    <TD vAlign=top width=1 background=COMPACTANDO_arquivos/111.jpg 
      rowSpan=2><IMG height=1 src="COMPACTANDO_arquivos/111.jpg" 
  width=1></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=0 width=781 border=0>
  <TBODY>
  <TR>
    <TD width=27 height=10></TD>
    <TD width=228></TD>
    <TD width=22></TD>
    <TD width=228></TD>
    <TD width=22></TD>
    <TD width=228></TD>
    <TD width=25></TD>
    <TD vAlign=top width=1 background=COMPACTANDO_arquivos/111.jpg 
      rowSpan=2><IMG height=1 src="COMPACTANDO_arquivos/111.jpg" width=1></TD></TR>
  <TR>
    <TD height=333>&nbsp;</TD>
    <TD vAlign=top colSpan=5>
      <TABLE cellSpacing=0 cellPadding=0 width=728 bgColor=#ffffff border=0>
        <TBODY>
        <TR>
          <TD vAlign=top colSpan=3 height=21><IMG height=21 
            src="COMPACTANDO_arquivos/sub-1.jpg" width=728></TD></TR>
        <TR>
          <TD width=10 height=303>&nbsp;</TD>
          <TD class=conteudo vAlign=top><LINK 
            href="COMPACTANDO_arquivos/estilos.css" type=text/css 
            rel=stylesheet><SPAN class=titulos>Compactando sons em um arquivo 
            .DAT com Grabber </SPAN><BR>
            <HR>

            <P class=conteudo>Da mesma forma que podemos compactar imagens e 
            fontes em um arquivo de dados é muito interessante compactar os 
            efeitos sonoros de um jogo em apenas um arquivo de dados. Esse 
            tutorial vai mostrar como fazer isso usando novamente o programa 
            Grabber.</P><SPAN class=conteudo>Para seguir o tutorial você precisa 
            de pelo menos um arquivo de som do tipo MIDI e um arquivo de som do 
            tipo SAMPLE (WAV ). <BR>Em seguida execute o programa Grabber e siga 
            os passos abaixo.<BR></SPAN><BR><BR>
            <TABLE cellSpacing=0 cellPadding=0 width="80%" align=center 
            bgColor=#cccccc border=0>
              <TBODY>
              <TR>
                <TD>
                  <TABLE class=conteudo cellSpacing=1 cellPadding=5 width="100%" 
                  align=center border=0>
                    <TBODY>
                    <TR>
                      <TD vAlign=top bgColor=#ffffff>
                        <P>1) Clique com o botão direito do mouse no 
                        &lt;root&gt; e escolha a opção MIDI file.</P></TD></TR>
                    <TR>
                      <TD vAlign=top bgColor=#ffffff>
                        <P align=center><IMG height=287 alt="" 
                        src="COMPACTANDO_arquivos/newmid.jpg" width=645 
                        border=1></P></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE><BR>
            <TABLE cellSpacing=0 cellPadding=0 width="80%" align=center 
            bgColor=#cccccc border=0>
              <TBODY>
              <TR>
                <TD>
                  <TABLE class=conteudo cellSpacing=1 cellPadding=5 width="100%" 
                  align=center border=0>
                    <TBODY>
                    <TR>
                      <TD vAlign=top bgColor=#ffffff>
                        <P>2) Clique com o botão direito do mouse no 
                        &lt;root&gt; e escolha a opção SAMPLE.</P></TD></TR>
                    <TR>
                      <TD vAlign=top bgColor=#ffffff>
                        <P align=center><IMG height=260 alt="" 
                        src="COMPACTANDO_arquivos/newsample.jpg" width=646 
                        border=1></P></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE><BR>
            <TABLE cellSpacing=0 cellPadding=0 width="80%" align=center 
            bgColor=#cccccc border=0>
              <TBODY>
              <TR>
                <TD>
                  <TABLE class=conteudo cellSpacing=1 cellPadding=5 width="100%" 
                  align=center border=0>
                    <TBODY>
                    <TR>
                      <TD vAlign=top bgColor=#ffffff>
                        <P>3) Após colocar na lista um arquivo do tipo MIDI e um 
                        arquivo do tipo SAMPLE é necessário associar ao arquivo 
                        clicando com o botão direito em cima do nome e 
                        escolhendo a opção Grab. </P>
                        <P>Se preferir use a tecla de atalho Ctrl+G.</P></TD></TR>
                    <TR>
                      <TD vAlign=top bgColor=#ffffff>
                        <P align=center><IMG height=236 alt="" 
                        src="COMPACTANDO_arquivos/grab.jpg" width=646 
                        border=1></P></TD></TR>
                    <TR>
                      <TD vAlign=top bgColor=#ffffff>4) Em seguida clique no 
                        menu File-&gt;Save &nbsp;e salve o arquivo com o nome de 
                        sons.dat na mesma pasta que o seu projeto de 
                    jogo.</TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE><BR>
            <P class=conteudo>Não irei explicar as funções referente a execução 
            dos sons porque já foi feito em anteriormente em outro artigo. </P>
            <P class=conteudo>Abaixo segue o código para abrir o arquivo de 
            dados e tocar os sons.</P><BR>
            <HR>
            <SPAN class=titulos>CÓDIGO...</SPAN><BR>
            <HR>
            <SPAN class=codigo>#include &lt;allegro.h&gt;<BR><BR>int 
            main()<BR>{<BR>&nbsp;&nbsp;&nbsp;allegro_init();<BR>&nbsp;&nbsp;&nbsp;<SPAN 
            class=style1>install_sound(DIGI_AUTODETECT, MIDI_AUTODETECT, 
            NULL);</SPAN><BR>&nbsp;&nbsp;&nbsp;set_color_depth(32);<BR>&nbsp;&nbsp;&nbsp;install_keyboard();<BR>&nbsp;&nbsp;&nbsp;set_gfx_mode(GFX_AUTODETECT_WINDOWED, 
            640, 480, 0, 0);<BR><BR>&nbsp;&nbsp;&nbsp;<SPAN 
            class=style1>DATAFILE *datSons = NULL;<BR>&nbsp;&nbsp;&nbsp;datSons 
            = load_datafile("sons.dat");</SPAN><BR><BR>&nbsp;&nbsp;&nbsp;int 
            buffer_teclado = 0;<BR><BR>&nbsp;&nbsp;&nbsp;<SPAN 
            class=style1>play_midi((MIDI 
            *)datSons[0].dat,TRUE);</SPAN><BR>&nbsp;&nbsp;&nbsp;while 
            (!key[KEY_ESC])<BR>&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if 
            (buffer_teclado == 
            0)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if 
            (key[KEY_SPACE])<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN 
            class=style1>play_sample((SAMPLE *)datSons[1].dat, 255, 128, 1000, 
            FALSE 
            );</SPAN><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer_teclado=30;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}else 
            buffer_teclado--;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vsync();<BR>&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;<SPAN 
            class=style1>stop_midi();<BR>&nbsp;&nbsp;&nbsp;unload_datafile(datSons);</SPAN><BR>&nbsp;&nbsp;&nbsp;allegro_exit();<BR>&nbsp;&nbsp;&nbsp;return 
            0;<BR>}<BR>END_OF_MAIN();<BR></SPAN><BR>
            <HR>
            <SPAN class=titulos>FIM DE CÓDIGO </SPAN><BR>
            <HR>
            <SPAN class=conteudo>Se você preferir colocar arquivos de imagens, 
            sons e fontes em apenas um arquivo de dados também é possível. 
            <BR><BR>Note que antes de chamar o som é necessário converter 
            explicitamente o arquivo para SAMPLE&nbsp; ou MIDI com seus 
            respectivos comandos (SAMPLE *) ou (MIDI *). Isso acontece da mesma 
            forma que precisamos acessar fontes e imagens, (FONT *) e (BITMAP 
            *).<BR><BR>Caro leitor chegamos ao fim do entendimento e utilização 
            dos efeitos sonoros através de um arquivo de dados. Se houver alguma 
            dúvida ou dificuldade favor entrar em contato com os membros da 
            BDJogos pelo Forum.<BR><BR>Abraço<BR>BDJogos</SPAN><BR><BR><BR><SPAN 
            class=conteudo><B>Contribuidor</B> <BR>Bruno A. Rovela<BR>25/09/2007 
            </SPAN>
            <P class=conteudo><A class=conteudo 
            href="javascript:history.go(-1)">Voltar </A></P></TD>
          <TD width=10>&nbsp;</TD></TR>
        <TR>
          <TD height=9></TD>
          <TD></TD>
          <TD></TD></TR></TBODY></TABLE></TD>
    <TD>&nbsp;</TD></TR></TBODY></TABLE>
<SCRIPT 
language=javascript>
salva_codigo();
JsCC_convert();
numeracao();
</SCRIPT>

<TABLE cellSpacing=0 cellPadding=0 width=781 border=0>
  <TBODY>
  <TR>
    <TD vAlign=center align=middle width=780 height=65>
      <P class=conteudo><STRONG><FONT 
      color=#000000>01/06/2007</FONT></STRONG><FONT color=#000000> (C) 
      Copyright. Todos os Direitos Reservados. <A class=codigo 
      href="http://www.bdjogos.com/copy.php">Leia a política de privacidade do 
      portal. </A><BR>É proibida a cópia de conteúdo deste site de acordo com a 
      Lei Brasileira de Direitos Autorais.</FONT></P></TD>
    <TD vAlign=top width=1 background=COMPACTANDO_arquivos/111.jpg><IMG 
      height=1 src="COMPACTANDO_arquivos/111.jpg" width=1></TD></TR>
  <TR>
    <TD vAlign=top background=COMPACTANDO_arquivos/111.jpg colSpan=2 
      height=1><IMG height=1 src="COMPACTANDO_arquivos/111.jpg" 
  width=1></TD></TR></TBODY></TABLE>
<SCRIPT type=text/javascript>
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</SCRIPT>

<SCRIPT type=text/javascript>
var pageTracker = _gat._getTracker("UA-1936336-1");
pageTracker._initData();
pageTracker._trackPageview();
</SCRIPT>
</BODY></HTML>
