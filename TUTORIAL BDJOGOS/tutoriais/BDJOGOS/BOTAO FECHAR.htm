<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0052)http://www.bdjogos.com/biblioteca_conteudo.php?id=30 -->
<HTML><HEAD><TITLE></TITLE>
<META content="" name=title>
<META 
content="Biblioteca de programação de jogos brasileira. Conteúdo Aberto! A Biblioteca dos Desenvolvedores de jogos" 
name=description>
<META 
content="Jogos Biblioteca biblio Desenvolvimento Desenvolvedores Desenvolver programa programação games melhor ambicioso programações progra programar c/ c/c++ c++ java asp pascal algoritmo bdjogos exercícios nintendo Allegro Desenvolvimento de Jogos Programação de Jogos Desenvolvimento para Consoles Programação para Consoles ds nintendods visual double buffer 3d graficos 3D matematica aritme timer int string" 
name=keywords>
<META content=www.bdjogos.com.br name=url>
<META content=Portuguese name=language>
<META content="Adriano Waltrick - Bruno A. Rovela" name=author>
<META content=GNU name=copyright>
<META http-equiv=Content-Type content="text/html; charset=iso-8859-1"><LINK 
href="BOTAO FECHAR_arquivos/estilos.css" type=text/css rel=stylesheet><LINK 
href="BOTAO FECHAR_arquivos/indentador.css" type=text/css rel=stylesheet>
<SCRIPT language=javascript src="BOTAO FECHAR_arquivos/indentador.js"></SCRIPT>

<META content="MSHTML 6.00.2900.2180" name=GENERATOR></HEAD>
<BODY class=conteudo vLink=#cd1006 aLink=#cd1006 link=#cd1006 bgColor=#ffffff 
leftMargin=0 background="BOTAO FECHAR_arquivos/bg.jpg" topMargin=0 
marginheight="0" marginwidth="0">
<SCRIPT language=javascript src="BOTAO FECHAR_arquivos/posicao_mouse.js" 
type=text/javascript></SCRIPT>

<SCRIPT language=javascript>
/*
Autor 			: Adriano
Data  			: 18/08/2006
Descrição		: faz uma layer seguir o mouse
*/
function atualiza_pos_layer( vlayer )
{	
	vlayer.style.visibility = 'visible';
	getMouse_Posicao(document.onmousemove);
			
	
	vlayer.top  = pos_mouse_y+30;
	vlayer.left = pos_mouse_x+10;
	
	vlayer.style.top  = pos_mouse_y+30;
	vlayer.style.left = pos_mouse_x+10;

	
	vlayer.style.pixelTop = pos_mouse_y+30;
	vlayer.style.pixelLeft = pos_mouse_x+10;
}

function atualiza_pos_layer2( vlayer )
{	
	vlayer.style.visibility = 'visible';
	getMouse_Posicao(document.onmousemove);
			
	
	vlayer.top  = pos_mouse_y-130;
	vlayer.left = pos_mouse_x+10;
	
	vlayer.style.top  = pos_mouse_y-130;
	vlayer.style.left = pos_mouse_x+10;

	
	vlayer.style.pixelTop = pos_mouse_y-130;
	vlayer.style.pixelLeft = pos_mouse_x+10;
}

function atualiza_layer( vlayer )
{
	vlayer.style.visibility = 'hidden';
}
</SCRIPT>

<STYLE type=text/css>#layer_menu1 {
	Z-INDEX: 1; LEFT: 10px; VISIBILITY: hidden; WIDTH: 220px; CURSOR: hand; POSITION: absolute; TOP: 10px; HEIGHT: 25px
}
#layer_menu2 {
	Z-INDEX: 1; LEFT: 10px; VISIBILITY: hidden; WIDTH: 150px; CURSOR: hand; POSITION: absolute; TOP: 10px; HEIGHT: 25px
}
#layer_menu3 {
	Z-INDEX: 1; LEFT: 10px; VISIBILITY: hidden; WIDTH: 150px; CURSOR: hand; POSITION: absolute; TOP: 10px; HEIGHT: 25px
}
#layer_menu4 {
	Z-INDEX: 1; LEFT: 10px; VISIBILITY: hidden; WIDTH: 150px; CURSOR: hand; POSITION: absolute; TOP: 10px; HEIGHT: 25px
}
#layer_procurar {
	Z-INDEX: 2; LEFT: 584px; WIDTH: 196px; POSITION: absolute; TOP: 47px; HEIGHT: 25px
}
</STYLE>

<DIV id=layer_menu1>
<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width="1%"><IMG height=8 src="BOTAO FECHAR_arquivos/borda_cima1.gif" 
      width=8></TD>
    <TD width="97%" background="BOTAO FECHAR_arquivos/linha_hor_cima.gif"><IMG 
      height=8 src="BOTAO FECHAR_arquivos/linha_hor_cima.gif" width=8></TD>
    <TD width="2%"><IMG height=8 src="BOTAO FECHAR_arquivos/borda_cima2.gif" 
      width=8></TD></TR>
  <TR>
    <TD background="BOTAO FECHAR_arquivos/linha_vertical.gif">
      <DIV align=left></DIV></TD>
    <TD class=conteudo bgColor=#ffffff>Conheça a iniciativa da Biblioteca dos 
      Desenvolvedores</TD>
    <TD background="BOTAO FECHAR_arquivos/linha_ver_di.gif">&nbsp;</TD></TR>
  <TR>
    <TD><IMG height=8 src="BOTAO FECHAR_arquivos/borda_baixo1.gif" width=8></TD>
    <TD vAlign=center background="BOTAO FECHAR_arquivos/linha_horizo.gif"><IMG 
      height=8 src="BOTAO FECHAR_arquivos/linha_horizo.gif" width=8></TD>
    <TD><IMG height=8 src="BOTAO FECHAR_arquivos/borda_baixo2.gif" 
  width=8></TD></TR></TBODY></TABLE></DIV>
<DIV id=layer_menu2>
<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width="1%"><IMG height=8 src="BOTAO FECHAR_arquivos/borda_cima1.gif" 
      width=8></TD>
    <TD width="97%" background="BOTAO FECHAR_arquivos/linha_hor_cima.gif"><IMG 
      height=8 src="BOTAO FECHAR_arquivos/linha_hor_cima.gif" width=8></TD>
    <TD width="2%"><IMG height=8 src="BOTAO FECHAR_arquivos/borda_cima2.gif" 
      width=8></TD></TR>
  <TR>
    <TD background="BOTAO FECHAR_arquivos/linha_vertical.gif">
      <DIV align=left></DIV></TD>
    <TD class=conteudo bgColor=#ffffff>Índice da Biblioteca</TD>
    <TD background="BOTAO FECHAR_arquivos/linha_ver_di.gif">&nbsp;</TD></TR>
  <TR>
    <TD><IMG height=8 src="BOTAO FECHAR_arquivos/borda_baixo1.gif" width=8></TD>
    <TD vAlign=center background="BOTAO FECHAR_arquivos/linha_horizo.gif"><IMG 
      height=8 src="BOTAO FECHAR_arquivos/linha_horizo.gif" width=8></TD>
    <TD><IMG height=8 src="BOTAO FECHAR_arquivos/borda_baixo2.gif" 
  width=8></TD></TR></TBODY></TABLE></DIV>
<DIV id=layer_menu3>
<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width="1%"><IMG height=8 src="BOTAO FECHAR_arquivos/borda_cima1.gif" 
      width=8></TD>
    <TD width="97%" background="BOTAO FECHAR_arquivos/linha_hor_cima.gif"><IMG 
      height=8 src="BOTAO FECHAR_arquivos/linha_hor_cima.gif" width=8></TD>
    <TD width="2%"><IMG height=8 src="BOTAO FECHAR_arquivos/borda_cima2.gif" 
      width=8></TD></TR>
  <TR>
    <TD background="BOTAO FECHAR_arquivos/linha_vertical.gif">
      <DIV align=left></DIV></TD>
    <TD class=conteudo bgColor=#ffffff>Área dos Usuários</TD>
    <TD background="BOTAO FECHAR_arquivos/linha_ver_di.gif">&nbsp;</TD></TR>
  <TR>
    <TD><IMG height=8 src="BOTAO FECHAR_arquivos/borda_baixo1.gif" width=8></TD>
    <TD vAlign=center background="BOTAO FECHAR_arquivos/linha_horizo.gif"><IMG 
      height=8 src="BOTAO FECHAR_arquivos/linha_horizo.gif" width=8></TD>
    <TD><IMG height=8 src="BOTAO FECHAR_arquivos/borda_baixo2.gif" 
  width=8></TD></TR></TBODY></TABLE></DIV>
<DIV id=layer_menu4>
<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width="1%"><IMG height=8 src="BOTAO FECHAR_arquivos/borda_cima1.gif" 
      width=8></TD>
    <TD width="97%" background="BOTAO FECHAR_arquivos/linha_hor_cima.gif"><IMG 
      height=8 src="BOTAO FECHAR_arquivos/linha_hor_cima.gif" width=8></TD>
    <TD width="2%"><IMG height=8 src="BOTAO FECHAR_arquivos/borda_cima2.gif" 
      width=8></TD></TR>
  <TR>
    <TD background="BOTAO FECHAR_arquivos/linha_vertical.gif">
      <DIV align=left></DIV></TD>
    <TD class=conteudo bgColor=#ffffff>Fórum de Discussão</TD>
    <TD background="BOTAO FECHAR_arquivos/linha_ver_di.gif">&nbsp;</TD></TR>
  <TR>
    <TD><IMG height=8 src="BOTAO FECHAR_arquivos/borda_baixo1.gif" width=8></TD>
    <TD vAlign=center background="BOTAO FECHAR_arquivos/linha_horizo.gif"><IMG 
      height=8 src="BOTAO FECHAR_arquivos/linha_horizo.gif" width=8></TD>
    <TD><IMG height=8 src="BOTAO FECHAR_arquivos/borda_baixo2.gif" 
  width=8></TD></TR></TBODY></TABLE></DIV>
<DIV id=layer_procurar>
<TABLE cellSpacing=1 cellPadding=2 width="100%" border=0>
  <FORM id=form1 name=form1 action=procurar.php method=post>
  <TBODY>
  <TR>
    <TD><LABEL>
      <DIV align=right><INPUT class=conteudo2 size=15 name=procurar> 
      </DIV></LABEL></TD></TR>
  <TR>
    <TD>
      <DIV align=right><INPUT class=conteudo2 type=submit value=Pesquisar name=Submit> 
      </DIV></TD></TR></FORM></TBODY></TABLE></DIV>
<TABLE cellSpacing=0 cellPadding=0 width=781 border=0>
  <TBODY>
  <TR>
    <TD vAlign=top colSpan=2 height=101>
      <TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
        <TBODY>
        <TR>
          <TD vAlign=top width=235 height=101><A 
            href="http://www.bdjogos.com/"><IMG alt="" 
            src="BOTAO FECHAR_arquivos/index_01.jpg" border=0></A></TD>
          <TD vAlign=top width=81><A 
            onmousemove=atualiza_pos_layer(layer_menu1); 
            onmouseout=atualiza_layer(layer_menu1); 
            href="http://www.bdjogos.com/conteudo.php"><IMG 
            src="BOTAO FECHAR_arquivos/index_02.jpg" border=0> </A></TD>
          <TD vAlign=top width=73><A 
            onmousemove=atualiza_pos_layer(layer_menu2); 
            onmouseout=atualiza_layer(layer_menu2); 
            href="http://www.bdjogos.com/biblioteca.php"><IMG 
            src="BOTAO FECHAR_arquivos/index_03.jpg" border=0></A></TD>
          <TD vAlign=top width=80><A 
            onmousemove=atualiza_pos_layer(layer_menu3); 
            onmouseout=atualiza_layer(layer_menu3); 
            href="http://www.bdjogos.com/usuarios.php"><IMG 
            src="BOTAO FECHAR_arquivos/index_04.jpg" border=0></A></TD>
          <TD vAlign=top width=90><A 
            onmousemove=atualiza_pos_layer(layer_menu4); 
            onmouseout=atualiza_layer(layer_menu4); 
            href="http://www.bdjogos.com/forum/"><IMG alt=Forúm 
            src="BOTAO FECHAR_arquivos/index_05.jpg" border=0></A></TD>
          <TD vAlign=top width=221><IMG alt="" 
            src="BOTAO FECHAR_arquivos/index_06.jpg"></TD></TR></TBODY></TABLE></TD>
    <TD vAlign=top width=1 background="BOTAO FECHAR_arquivos/111.jpg" 
      rowSpan=2><IMG height=1 src="BOTAO FECHAR_arquivos/111.jpg" 
  width=1></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=0 width=781 border=0>
  <TBODY>
  <TR>
    <TD width=27 height=10></TD>
    <TD width=228></TD>
    <TD width=22></TD>
    <TD width=228></TD>
    <TD width=22></TD>
    <TD width=228></TD>
    <TD width=25></TD>
    <TD vAlign=top width=1 background="BOTAO FECHAR_arquivos/111.jpg" 
      rowSpan=2><IMG height=1 src="BOTAO FECHAR_arquivos/111.jpg" width=1></TD></TR>
  <TR>
    <TD height=333>&nbsp;</TD>
    <TD vAlign=top colSpan=5>
      <TABLE cellSpacing=0 cellPadding=0 width=728 bgColor=#ffffff border=0>
        <TBODY>
        <TR>
          <TD vAlign=top colSpan=3 height=21><IMG height=21 
            src="BOTAO FECHAR_arquivos/sub-1.jpg" width=728></TD></TR>
        <TR>
          <TD width=10 height=303>&nbsp;</TD>
          <TD class=conteudo vAlign=top>
            <HR>
            <SPAN class=titulos id=botaofechar name="botaofechar">Botão Fechar 
            </SPAN>
            <HR>

            <P>Esse tutorial tem por objetivo mostrar como habilitar o "X" 
            (Fechar) para quem programa jogos em Janela de Windows, ou seja, 
            modo WINDOWED do Allegro.<BR><BR>Até este momento em todos os 
            exemplos para sair do jogo era necessário apertar a tecla ESC. </P>
            <P>Para mostrar outra forma de fechar o seu jogo iremos habilitar o 
            "X" da janela. <BR>Dessa forma sempre que você quiser sair do jogo 
            ao invés de apertar ESC você vai usar o mouse e fechar a 
            janela.<BR><BR>Esse procedimento é feito pela função <STRONG>int 
            set_close_button_callback(void (*proc)(void)).</STRONG></P>
            <HR>
            <SPAN class=titulos_texto>CÓDIGO...</SPAN> 
            <HR>

            <TABLE class=codigo border=0>
              <TBODY>
              <TR>
                <TD vAlign=top>001<FONT color=red>:</FONT><BR>002<FONT 
                  color=red>:</FONT><BR>003<FONT color=red>:</FONT><BR>004<FONT 
                  color=red>:</FONT><BR>005<FONT color=red>:</FONT><BR>006<FONT 
                  color=red>:</FONT><BR>007<FONT color=red>:</FONT><BR>008<FONT 
                  color=red>:</FONT><BR>009<FONT color=red>:</FONT><BR>010<FONT 
                  color=red>:</FONT><BR>011<FONT color=red>:</FONT><BR>012<FONT 
                  color=red>:</FONT><BR>013<FONT color=red>:</FONT><BR>014<FONT 
                  color=red>:</FONT><BR>015<FONT color=red>:</FONT><BR>016<FONT 
                  color=red>:</FONT><BR>017<FONT color=red>:</FONT><BR>018<FONT 
                  color=red>:</FONT><BR>019<FONT color=red>:</FONT><BR>020<FONT 
                  color=red>:</FONT><BR>021<FONT color=red>:</FONT><BR>022<FONT 
                  color=red>:</FONT><BR>023<FONT color=red>:</FONT><BR>024<FONT 
                  color=red>:</FONT><BR>025<FONT color=red>:</FONT><BR>026<FONT 
                  color=red>:</FONT><BR>027<FONT color=red>:</FONT><BR>028<FONT 
                  color=red>:</FONT><BR>029<FONT color=red>:</FONT><BR>
                <TD>
                <TD vAlign=top><FONT color=red>#</FONT>include&nbsp;<FONT 
                  color=red>&lt;</FONT>allegro<FONT color=red>.</FONT>h<FONT 
                  color=red>&gt;</FONT>&nbsp;<BR>volatile&nbsp;int&nbsp;FecharJogo&nbsp;<FONT 
                  color=red>=</FONT>&nbsp;FALSE<FONT 
                  color=red>;</FONT>&nbsp;<BR><BR>void&nbsp;BotaoFechar<FONT 
                  color=red>(</FONT>void<FONT color=red>)</FONT>&nbsp;<BR><FONT 
                  color=red>{</FONT>&nbsp;<BR>&nbsp;&nbsp;&nbsp;FecharJogo&nbsp;<FONT 
                  color=red>=</FONT>&nbsp;TRUE<FONT 
                  color=red>;</FONT>&nbsp;<BR><FONT 
                  color=red>}</FONT>&nbsp;<BR>END_OF_FUNCTION<FONT 
                  color=red>(</FONT>BotaoFechar<FONT 
                  color=red>)</FONT>&nbsp;<BR><BR>int&nbsp;main<FONT 
                  color=red>(</FONT><FONT color=red>)</FONT>&nbsp;<BR><FONT 
                  color=red>{</FONT>&nbsp;<BR>&nbsp;&nbsp;&nbsp;allegro_init<FONT 
                  color=red>(</FONT><FONT color=red>)</FONT><FONT 
                  color=red>;</FONT>&nbsp;<BR>&nbsp;&nbsp;&nbsp;install_keyboard<FONT 
                  color=red>(</FONT><FONT color=red>)</FONT><FONT 
                  color=red>;</FONT>&nbsp;<BR>&nbsp;&nbsp;&nbsp;set_color_depth<FONT 
                  color=red>(</FONT>32<FONT color=red>)</FONT><FONT 
                  color=red>;</FONT>&nbsp;<BR>&nbsp;&nbsp;&nbsp;set_gfx_mode<FONT 
                  color=red>(</FONT>GFX_AUTODETECT_WINDOWED,&nbsp;800,&nbsp;600,&nbsp;0,&nbsp;0<FONT 
                  color=red>)</FONT><FONT 
                  color=red>;</FONT>&nbsp;<BR>&nbsp;&nbsp;&nbsp;set_window_title<FONT 
                  color=red>(</FONT><FONT color=red>"</FONT>BDJOGOS&nbsp;<FONT 
                  color=red>-</FONT>&nbsp;BOTAO&nbsp;FECHAR<FONT 
                  color=red>"</FONT><FONT color=red>)</FONT><FONT 
                  color=red>;</FONT>&nbsp;<BR><BR>&nbsp;&nbsp;&nbsp;LOCK_FUNCTION<FONT 
                  color=red>(</FONT>BotaoFechar<FONT color=red>)</FONT><FONT 
                  color=red>;</FONT>&nbsp;<BR>&nbsp;&nbsp;&nbsp;set_close_button_callback<FONT 
                  color=red>(</FONT>BotaoFechar<FONT color=red>)</FONT><FONT 
                  color=red>;</FONT>&nbsp;<BR><BR>&nbsp;&nbsp;&nbsp;while&nbsp;<FONT 
                  color=red>(</FONT>!FecharJogo<FONT 
                  color=red>)</FONT>&nbsp;<BR>&nbsp;&nbsp;&nbsp;<FONT 
                  color=red>{</FONT>&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vsync<FONT 
                  color=red>(</FONT><FONT color=red>)</FONT><FONT 
                  color=red>;</FONT>&nbsp;<BR>&nbsp;&nbsp;&nbsp;<FONT 
                  color=red>}</FONT>&nbsp;<BR><BR>&nbsp;&nbsp;&nbsp;allegro_exit<FONT 
                  color=red>(</FONT><FONT color=red>)</FONT><FONT 
                  color=red>;</FONT>&nbsp;<BR>&nbsp;&nbsp;&nbsp;return&nbsp;0<FONT 
                  color=red>;</FONT>&nbsp;<BR><FONT 
                  color=red>}</FONT>&nbsp;<BR>END_OF_MAIN<FONT 
                  color=red>(</FONT><FONT color=red>)</FONT><FONT 
                  color=red>;</FONT><BR></TD></TR></TBODY></TABLE></SPAN><BR>
            <HR>
            <SPAN class=titulos_texto>FIM DE CÓDIGO...</SPAN> 
            <HR>
            <BR>Ao compilar e executar o código acima você já irá notar que o 
            famoso "X" que sempre esteve desabilitado por padrão do Allegro, 
            agora está habilitado e funcionando. <BR><BR>Qualquer dúvida é só 
            postar no fórum. <BR><BR>Abraço! <BR><BR><SPAN 
            class=conteudo><B>Contribuidor</B> <BR>Bruno A. Rovela<BR>10/06/2008 
            </SPAN>
            <P class=conteudo><A class=conteudo 
            href="javascript:history.go(-1)">Voltar </A></P></TD>
          <TD width=10>&nbsp;</TD></TR>
        <TR>
          <TD height=9></TD>
          <TD></TD>
          <TD></TD></TR></TBODY></TABLE></TD>
    <TD>&nbsp;</TD></TR></TBODY></TABLE>
<SCRIPT 
language=javascript>
salva_codigo();
JsCC_convert();
numeracao();
</SCRIPT>

<TABLE cellSpacing=0 cellPadding=0 width=781 border=0>
  <TBODY>
  <TR>
    <TD vAlign=center align=middle width=780 height=65>
      <P class=conteudo><STRONG><FONT 
      color=#000000>01/06/2007</FONT></STRONG><FONT color=#000000> (C) 
      Copyright. Todos os Direitos Reservados. <A class=codigo 
      href="http://www.bdjogos.com/copy.php">Leia a política de privacidade do 
      portal. </A><BR>É proibida a cópia de conteúdo deste site de acordo com a 
      Lei Brasileira de Direitos Autorais.</FONT></P></TD>
    <TD vAlign=top width=1 background="BOTAO FECHAR_arquivos/111.jpg"><IMG 
      height=1 src="BOTAO FECHAR_arquivos/111.jpg" width=1></TD></TR>
  <TR>
    <TD vAlign=top background="BOTAO FECHAR_arquivos/111.jpg" colSpan=2 
      height=1><IMG height=1 src="BOTAO FECHAR_arquivos/111.jpg" 
  width=1></TD></TR></TBODY></TABLE>
<SCRIPT type=text/javascript>
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</SCRIPT>

<SCRIPT type=text/javascript>
var pageTracker = _gat._getTracker("UA-1936336-1");
pageTracker._initData();
pageTracker._trackPageview();
</SCRIPT>
</BODY></HTML>
