From: <Salvo pelo Windows Internet Explorer 8>
Subject: =?Windows-1252?Q?Criando_um_Portal_de_Not=EDcias_baseado_em_PHP/MySQL?=
Date: Sun, 4 Apr 2010 14:57:35 -0300
MIME-Version: 1.0
Content-Type: text/html;
	charset="Windows-1252"
Content-Transfer-Encoding: quoted-printable
Content-Location: http://unix.wmonline.com.br/php/tutoriais/noticias-php-mysql.htm
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2900.5512

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE>Criando um Portal de Not=EDcias baseado em =
PHP/MySQL</TITLE>
<META content=3D"text/html; charset=3Dwindows-1252" =
http-equiv=3DContent-Type>
<META name=3DGENERATOR content=3D"MSHTML 8.00.6001.18702">
<META name=3DProgId content=3DFrontPage.Editor.Document></HEAD>
<BODY><FONT size=3D2 face=3D"Verdana, Arial, Helvetica, =
sans-serif"><B>Criando um=20
Portal de Not=EDcias baseado em PHP/MySQL</B><BR><BR>1.=BA Passo - =
Criando e=20
preparando o Banco de Dados (MySQL)Comece criando um banco de dados =
dedicado a=20
este tutorial. Por exemplo, com o nome not=EDcias; se j=E1 estiver no =
cliente MySQL,=20
digite o seguinte:<BR><BR><FONT size=3D1>create database=20
<B>noticias;</B></FONT><BR><BR>Por conseguinte, abra o banco de dados=20
criado:<BR><BR><FONT size=3D1>use <B>noticias;</B></FONT><BR><BR>Agora =
=E9 criar uma=20
tabela para cadastro das suas not=EDcias. Voc=EA pode seguir o exemplo =
abaixo,=20
superpr=E1tico:<BR><FONT size=3D1><BR>CREATE TABLE noticias (<BR>id =
int(5) NOT NULL=20
auto_increment,<BR>nome char(30) NOT NULL ,<BR>sobrenome char(30) NOT =
NULL=20
,<BR>cidade char(50) NOT NULL ,<BR>estado char(2) NOT NULL ,<BR>email =
char(80)=20
,<BR>data date NOT NULL,<BR>hora time NOT NULL ,<BR>titulo char(100) NOT =
NULL=20
,<BR>subtitulo char(200) ,<BR>texto text NOT NULL ,<BR>ver char(3) =
DEFAULT 'off'=20
,<BR>PRIMARY KEY (id),<BR>UNIQUE id (id)<BR>);</FONT><BR><BR>Se voc=EA =
j=E1 tiver=20
uma base de conhecimento em SQL, poder=E1 saber o que cada linha acima =
realizar=E1.=20
Irei especificar o que voc=EA ir=E1 cadastrar em cada campo:</FONT>=20
<UL>
  <LI><FONT size=3D2 face=3D"Verdana, Arial, Helvetica, sans-serif">id =
=3D Campo de=20
  identifica=E7=E3o da not=EDcia (n=E3o =E9 necess=E1rio cadastrar =
nenhum dado, pois ele j=E1=20
  est=E1 habilitado com a fun=E7=E3o auto_increment que, =
automaticamente, ir=E1=20
  inserindo novos valores)</FONT>=20
  <LI><FONT size=3D2 face=3D"Verdana, Arial, Helvetica, sans-serif">nome =
=3D Primeiro=20
  nome do autor da not=EDcia</FONT>=20
  <LI><FONT size=3D2 face=3D"Verdana, Arial, Helvetica, =
sans-serif">sobrenome =3D=20
  Sobrenome do autor da not=EDcia</FONT>=20
  <LI><FONT size=3D2 face=3D"Verdana, Arial, Helvetica, =
sans-serif">cidade =3D Cidade=20
  do autor</FONT>=20
  <LI><FONT size=3D2 face=3D"Verdana, Arial, Helvetica, =
sans-serif">estado =3D Estado=20
  da cidade (especificada com apenas 2 caracteres)</FONT>=20
  <LI><FONT size=3D2 face=3D"Verdana, Arial, Helvetica, =
sans-serif">email =3D Email do=20
  autor, para contatos</FONT>=20
  <LI><FONT size=3D2 face=3D"Verdana, Arial, Helvetica, sans-serif">data =
=3D Data=20
  utilizada, para saber quando foi realizado o cadastro (n=E3o ser=E1 =
necess=E1rio=20
  nenhum cadastro, pois faremos isso no php automaticamente, inserindo a =
data=20
  atual)</FONT>=20
  <LI><FONT size=3D2 face=3D"Verdana, Arial, Helvetica, sans-serif">hora =
=3D Hora=20
  utilizada no cadastro da not=EDcias (tamb=E9m n=E3o =E9 necess=E1rio o =
cadastro, pois=20
  ser=E1 feito automaticamente com o PHP)</FONT>=20
  <LI><FONT size=3D2 face=3D"Verdana, Arial, Helvetica, =
sans-serif">t=EDtulo =3D T=EDtulo=20
  da not=EDcia (m=E1ximo de 100 caracteres)</FONT>=20
  <LI><FONT size=3D2 face=3D"Verdana, Arial, Helvetica, =
sans-serif">subt=EDtulo =3D=20
  Pequeno resumo da sua not=EDcia (m=E1ximo de 200 caracteres)</FONT>=20
  <LI><FONT size=3D2 face=3D"Verdana, Arial, Helvetica, =
sans-serif">texto =3D Agora=20
  sim, o texto da sua not=EDcia, sem limite de caracteres</FONT>=20
  <LI><FONT size=3D2 face=3D"Verdana, Arial, Helvetica, sans-serif">ver =
=3D Este campo=20
  =E9 curioso. Ele ser=E1 utilizado para o webmaster poder autorizar =
cada not=EDcia,=20
  pois caso n=E3o tivesse um campo parecido, toda not=EDcia cadastrada =
iria para o=20
  site. =C9 como um controle de not=EDcias. O padr=E3o aqui, =E9 =
<I>off</I>, assim toda=20
  not=EDcia primeiro ser=E1 passada para o webmaster, para depois ser=20
  validada.</FONT> <FONT size=3D2 face=3D"Verdana, Arial, Helvetica, =
sans-serif">*=20
  s=E3o campos obrigat=F3rios no cadastro Agora com o banco de dados =
preparado, =E9=20
  hora de criarmos o sistema de cadastro de not=EDcias do seu site. Este =
ser=E1 o=20
  2.=BA passo! 2=BA Passo - Criando o sistema de cadastro de =
not=EDciasEste =E9 um passo=20
  importante, onde um script criado em PHP ir=E1 inserir dados no banco =
de dados=20
  MySQL. Aqui iremos utilizar os conhecimentos passados no tutorial =
anterior,=20
  sobre quest=F5es b=E1sicas de PHP/MySQL. Primeiramente ser=E1 criado o =
arquivo em=20
  HTML (formul=E1rio) para o cadastro de not=EDcias. Vamos =
l=E1:<BR><BR>ARQUIVO=20
  cadastra.php<BR><BR><FONT size=3D1>&lt;?php<BR><BR>$data =3D=20
  date("Y-m-d");<BR>$hora =3D date("H:i:s");<BR>$novadata =3D =
substr($data,8,2) .=20
  "/" .substr($data,5,2) . "/" . substr($data,0,4);<BR>$novahora =3D=20
  substr($hora,0,2) . "h" .substr($hora,3,2) . "min";<BR><BR>echo=20
  "&lt;h1&gt;Sistema de Cadastro de Not=EDcias&lt;/h1&gt;";<BR>echo=20
  "&lt;hr&gt;&lt;br&gt;";<BR>echo "&lt;form action=3D'inserir.php'=20
  method=3D'post'&gt;";<BR>echo "Nome:&lt;input name=3D'nome' =
type=3D'text'=20
  size=3D30&gt; *&lt;br&gt;";<BR>echo "Sobrenome:&lt;input =
name=3D'sobrenome'=20
  type=3D'text' size=3D30&gt; *&lt;br&gt;";<BR>echo "Cidade:&lt;input =
name=3D'cidade'=20
  type=3D'text' size=3D30&gt; *&lt;br&gt;";<BR>echo =
"Estado:&lt;i&gt;(Exemplo: SP,=20
  RS, BA)&lt;/i&gt;&lt;input name=3D'estado' type=3D'text' size=3D5&gt;=20
  *&lt;br&gt;";<BR>echo "Email: &lt;i&gt;(Exemplo:=20
  feitosac@yahoo.com)&lt;/i&gt;&lt;input name=3D'email' type=3D'text'=20
  size=3D30&gt;&lt;br&gt;&lt;br&gt;";<BR>echo "T=EDtulo do =
Texto:&lt;input=20
  name=3D'titulo' type=3D'text' size=3D30&gt; *&lt;br&gt;";<BR>echo =
"Subt=EDtulo do=20
  Texto:&lt;textarea name=3D'subtitulo' rows=3D5=20
  cols=3D30&gt;&lt;/textarea&gt;&lt;br&gt;";<BR>echo "Texto:&lt;textarea =

  name=3D'texto' rows=3D10 cols=3D30&gt;&lt;/textarea&gt; =
*&lt;br&gt;";<BR>echo=20
  "&lt;input name=3D'data' type=3D'hidden' value=3D'$data'&lt;&gt;input =
name=3D'hora'=20
  type=3D'hidden' value=3D'$hora'&gt;";<BR>echo "&lt;input =
type=3D'submit'=20
  value=3D'Cadastrar'&gt;";<BR>echo "&lt;/form&gt;";<BR>echo=20
  "&lt;br&gt;&lt;hr&gt;";<BR>echo "&lt;i&gt;Campos marcados com=20
  &lt;b&gt;*&lt;/b&gt; s=E3o obrigat=F3rios no =
cadastro.&lt;br&gt;";<BR>echo=20
  "&lt;b&gt;Observa=E7=E3o&lt;/b&gt;: Ser=E1 inserido no seu cadastro a =
data atual,=20
  bem como a hora atual do cadastro&lt;br&gt;";<BR>echo "Data: $novadata =
- Hora:=20
  $novahora&lt;br&gt;";<BR><BR>?&gt;<BR><BR></FONT>FIM DO ARQUIVO=20
  cadastra.php<BR></FONT>
  <LI><FONT size=3D2 face=3D"Verdana, Arial, Helvetica, =
sans-serif">Vamos realizar=20
  uma pequena an=E1lise neste arquivo. Repare que os dados do =
formul=E1rio ser=E3o=20
  enviados para o script "inserir.php", este, por conseguinte, ser=E1 o=20
  respons=E1vel pela inser=E7=E3o desta not=EDcia no MySQL. Outro ponto, =
=E9 que n=E3o=20
  existem os campos <B>id</B>, <B>ver</B>, estes, como expliquei, =
ser=E3o=20
  inseridos automaticamente pelo MySQL, e os campos <B>data</B>, =
<B>hora</B>,=20
  ser=E3o inseridos pelo PHP.</FONT>=20
  <LI><FONT size=3D2 face=3D"Verdana, Arial, Helvetica, =
sans-serif">Agora =E9 hora de=20
  criar o script PHP respons=E1vel por isto tudo. Vamos =
nessa:<BR><BR>ARQUIVO=20
  inserir.php<BR><BR><FONT size=3D1>&lt;?php<BR><BR>//Vamos definir as =
vari=E1veis=20
  de data e hora<BR>//para inser=E7=E3o no banco de dados<BR><BR>//Agora =
com as=20
  vari=E1veis de data e hora criadas<BR>//vamos criar uma vari=E1vel =
especial para a=20
  querie sql<BR><BR>$sql =3D "INSERT INTO noticias (nome, sobrenome, =
cidade,=20
  estado, email, data, hora,<BR>titulo, subtitulo, texto) VALUES =
('$nome',=20
  '$sobrenome', '$cidade', '$estado',<BR>'$email', '$data', '$hora', =
'$titulo',=20
  '$subtitulo', '$texto')";<BR><BR>//Agora =E9 hora de contatar o=20
  mysql<BR><BR>$conexao =3D mysql_connect("localhost", "root", =
"root")<BR>or die=20
  ("Configura=E7=E3o de Banco de Dados Errada!");<BR><BR>//Substitua os =
valores=20
  acima caso n=E3o esteje de acordo com sua m=E1quina<BR>//Selecionando =
o banco de=20
  dados...<BR><BR>$db =3D mysql_select_db("noticias")<BR>or die ("Banco =
de Dados=20
  Inexistente!");<BR><BR>//Inserindo os dados<BR><BR>$sql =3D=20
  mysql_query($sql)<BR>or die ("Houve erro na grava=E7=E3o dos dados, =
por favor,=20
  clique em voltar e verifique os campos obrigat=F3rios!");<BR><BR>echo=20
  "&lt;h1&gt;Cadastro efetuado com=20
  sucesso!&lt;/h1&gt;";<BR><BR>?&gt;<BR></FONT><BR>FIM DO ARQUIVO=20
  inserir.php<BR><BR></FONT>
  <LI><FONT size=3D2 face=3D"Verdana, Arial, Helvetica, =
sans-serif">Voc=EA pode=20
  aperfei=E7oar muito mais o script. Por exemplo, personalizar a =
mensagem de erro=20
  e de =EAxito, inserir um link para cadastrar novamente, etc.</FONT>=20
  <LI><FONT size=3D2 face=3D"Verdana, Arial, Helvetica, =
sans-serif">Agora vamos para=20
  o pr=F3ximo e =FAltimo passo, "Recuperando os dados =
cadastrados"</FONT> <FONT=20
  size=3D2 face=3D"Verdana, Arial, Helvetica, sans-serif">3.=BA Passo - =
Recuperando os=20
  dados cadastradosIrei mostrar como selecionar, por exemplo, as =
=FAltimas 15=20
  not=EDcias inseridas no MySQL; isto =E9 muito =FAtil, para sites que =
t=EAm se=E7=F5es do=20
  tipo "=DAltimas Not=EDcias". Isto =E9 feito com PHP novamente; fa=E7a =
conforme o=20
  exemplo abaixo, e salve como um arquivo em PHP.<BR><BR>ARQUIVO=20
  noticias.php<BR><BR><FONT size=3D1>&lt;?php<BR><BR>//Vamos precisar =
contar o=20
  MySQL novamente<BR><BR>$conexao =3D=20
  mysql_connect("localhost","root","root");<BR>$db =3D=20
  mysql_select_db("noticias");<BR><BR>//Agora =E9 realizar a querie de =
busca no=20
  banco de dados<BR><BR>$sql =3D "SELECT * FROM noticias WHERE ver =3D =
'on' ORDER BY=20
  id DESC LIMIT 15";<BR><BR>// Ir=E1 selecionar as =FAltimas 15 =
not=EDcias=20
  inseridas<BR><BR>// O curioso aqui, =E9 que ele s=F3 ir=E1 selecionar =
os campos=20
  onde<BR>// estiver o ver=3Don, isto foi discutido logo atr=E1s, como =
um<BR>//=20
  controle de not=EDcias pelo webmaster<BR>// Por padr=E3o o MySQL =
colocou off, mas=20
  o webmaster ter=E1 que<BR>// revisar as not=EDcias e alterar o campo =
ver para as=20
  que quiser validar.<BR><BR>$resultado =3D mysql_query($sql)<BR>or die =
("N=E3o foi=20
  poss=EDvel realizar a consulta ao banco de dados");<BR><BR>// Agora =
iremos=20
  "pegar" cada campo da not=EDcia<BR>// e organizar no HTML<BR><BR>while =

  ($linha=3Dmysql_fetch_array($resultado)) {<BR><BR>$id =3D =
$linha["id"];<BR>$nome =3D=20
  $linha["nome"];<BR>$sobrenome =3D $linha["sobrenome"];<BR>$cidade =3D=20
  $linha["cidade"];<BR>$estado =3D $linha["estado"];<BR>$email =3D=20
  $linha["email"];<BR>$data =3D $linha["data"];<BR>$hora =3D=20
  $linha["hora"];<BR>$titulo =3D $linha["titulo"];<BR>$subtitulo =3D=20
  $linha["subtitulo"];<BR>$texto =3D $linha["texto"];<BR>$ver =3D=20
  $linha["ver"];<BR><BR>$novadata =3D substr($data,8,2) . "/" =
.substr($data,5,2) .=20
  "/" . substr($data,0,4);<BR>$novahora =3D substr($hora,0,2) . "h"=20
  .substr($hora,3,2) . "min";<BR><BR>echo "&lt;b&gt;C=F3digo da =
Not=EDcia&lt;/b&gt;:=20
  $id";<BR>echo "&lt;br&gt;";<BR>echo "Autor: $nome $sobrenome -=20
  ($email)";<BR>echo "&lt;br&gt;";<BR>echo "Cidade: $cidade - Estado:=20
  $estado";<BR>echo "&lt;br&gt;";<BR>echo "Data: $novadata - Hor=E1rio:=20
  $novahora";<BR>echo "&lt;br&gt;";<BR>echo "T=EDtulo da Not=EDcia:=20
  $titulo";<BR>echo "&lt;br&gt;";<BR>echo "Subt=EDtulo da Not=EDcia: =
&lt;i&gt;=20
  $subtitulo &lt;/i&gt;";<BR>echo "&lt;br&gt;";<BR>echo "Not=EDcia:=20
  $texto";<BR>echo "&lt;br&gt;";<BR>echo "Validado pelo Webmaster: =
";<BR>if=20
  ($ver=3Don) { echo "Sim"; } else { echo "N=E3o"; }<BR>echo=20
  "&lt;hr&gt;";<BR><BR>}<BR><BR>?&gt;<BR></FONT><FONT=20
  face=3D"Courier New, Courier, mono"><BR></FONT>FIM DO ARQUIVO=20
  noticias.php<BR><BR></FONT>
  <LI><FONT size=3D2 face=3D"Verdana, Arial, Helvetica, sans-serif">Viu =
como =E9 super=20
  simples? Neste script criamos uma vari=E1vel para cada campo da =
tabela, assim=20
  fica mais f=E1cil de manusear os dados de qualquer forma. Nas =
vari=E1vels=20
  <B>novadata</B>, <B>novahora</B>, crie uma fun=E7=E3o para mostrar as =
vari=E1veis de=20
  uma forma melhor. (agradecimentos a RENAS - Amig=E3o!)</FONT>=20
  <LI><FONT size=3D2 face=3D"Verdana, Arial, Helvetica, =
sans-serif">Voc=EA ainda pode=20
  personalizar estas not=EDcias, deixando o layout do seu jeito!</FONT>=20
  <LI><FONT size=3D2 face=3D"Verdana, Arial, Helvetica, sans-serif">OBS: =
para=20
  mostrar todas as not=EDcias em vez de s=F3 as =FAltimas 15, apenas =
crie uma nova=20
  vari=E1vel $sql, como esta abaixo:<BR>$sql =3D "SELECT * FROM noticias =
WHERE ver =3D=20
  'on' ORDER BY id DESC";<BR></FONT>
  <LI><FONT size=3D2 face=3D"Verdana, Arial, Helvetica, =
sans-serif">Pronto! Foi s=F3=20
  retirar "LIMIT 15". ;)</FONT> <FONT size=3D2=20
  face=3D"Verdana, Arial, Helvetica, sans-serif">4.=BA Passo - Controle =
de Not=EDcias=20
  para WebmasterNeste passo irei explicar como mostrar todos os dados da =
tabela,=20
  para podermos modific=E1-los, apag=E1-los, etc. Primeiramente, devemos =
criar um=20
  arquivo PHP para mostrar todos os dados na tela, para depois podermos=20
  manuse=E1-los. Fa=E7a como o exemplo abaixo:<BR><BR>ARQUIVO=20
  controle.php<BR><BR><FONT size=3D1>&lt;?php<BR><BR>$conexao =3D=20
  mysql_connect("localhost","root","root");<BR>$db =3D=20
  mysql_select_db("noticias");<BR>$sql =3D "SELECT * FROM noticias ORDER =
BY id=20
  DESC";<BR>$resultado =3D mysql_query($sql)<BR>or die ("N=E3o foi =
poss=EDvel realizar=20
  a consulta ao banco de dados");<BR><BR>echo "&lt;table width=3D740 =
border=3D1=20
  cellpadding=3D1 cellspacing=3D1&gt;";<BR>echo "&lt;tr&gt;";<BR>echo =
"&lt;th=20
  width=3D15&gt;ID:&lt;/th&gt;";<BR>echo "&lt;th=20
  width=3D100&gt;Nome:&lt;/th&gt;";<BR>echo "&lt;th=20
  width=3D100&gt;Sobrenome:&lt;/th&gt;";<BR>echo "&lt;th=20
  width=3D100&gt;Cidade:&lt;/th&gt;";<BR>echo "&lt;th=20
  width=3D15&gt;UF:&lt;/th&gt;";<BR>echo "&lt;th=20
  width=3D100&gt;Email:&lt;/th&gt;";<BR>echo "&lt;th=20
  width=3D30&gt;Data:&lt;/th&gt;";<BR>echo "&lt;th=20
  width=3D30&gt;Hora:&lt;/th&gt;";<BR>echo "&lt;th=20
  width=3D100&gt;T=EDtulo:&lt;/th&gt;";<BR>echo "&lt;th=20
  width=3D50&gt;Dispon=EDvel?&lt;/th&gt;";<BR>echo "&lt;th=20
  width=3D50&gt;Alterar&lt;/th&gt;";<BR>echo "&lt;th=20
  width=3D50&gt;Excluir&lt;/th&gt;";<BR>echo "&lt;/tr&gt;";<BR><BR>while =

  ($linha=3Dmysql_fetch_array($resultado)) {<BR>$id =3D =
$linha["id"];<BR>$nome =3D=20
  $linha["nome"];<BR>$sobrenome =3D $linha["sobrenome"];<BR>$cidade =3D=20
  $linha["cidade"];<BR>$estado =3D $linha["estado"];<BR>$email =3D=20
  $linha["email"];<BR>$data =3D $linha["data"];<BR>$hora =3D=20
  $linha["hora"];<BR>$titulo =3D $linha["titulo"];<BR>$ver =3D=20
  $linha["ver"];<BR><BR>$novadata =3D substr($data,8,2) . "/" =
.substr($data,5,2) .=20
  "/" . substr($data,0,4);<BR>$novahora =3D substr($hora,0,2) . "h"=20
  .substr($hora,3,2) . "min";<BR><BR><BR>echo "&lt;tr&gt;";<BR>echo =
"&lt;th=20
  width=3D15&gt;$id&lt;br&gt;&lt;/th&gt;";<BR>echo "&lt;th=20
  width=3D100&gt;$nome&lt;br&gt;&lt;/th&gt;";<BR>echo "&lt;th=20
  width=3D100&gt;$sobrenome&lt;br&gt;&lt;/th&gt;";<BR>echo "&lt;th=20
  width=3D100&gt;$cidade&lt;br&gt;&lt;/th&gt;";<BR>echo "&lt;th=20
  width=3D15&gt;$estado&lt;br&gt;&lt;/th&gt;";<BR>echo "&lt;th=20
  width=3D100&gt;$email&lt;br&gt;&lt;/th&gt;";<BR>echo "&lt;th=20
  width=3D30&gt;$novadata&lt;br&gt;&lt;/th&gt;";<BR>echo "&lt;th=20
  width=3D30&gt;$novahora&lt;br&gt;&lt;/th&gt;";<BR>echo "&lt;th=20
  width=3D100&gt;$titulo&lt;br&gt;&lt;/th&gt;";<BR>echo "&lt;th=20
  width=3D50&gt;$ver&lt;br&gt;&lt;/th&gt;";<BR>echo "&lt;th =
width=3D50&gt;&lt;a=20
  =
href=3D'alterar.php?id=3D$id'&gt;Alterar&lt;/a&gt;&lt;br&gt;&lt;/th&gt;";=
<BR>echo=20
  "&lt;th width=3D50&gt;&lt;a=20
  =
href=3D'excluir.php?id=3D$id'&gt;Excluir&lt;/a&gt;&lt;br&gt;&lt;/th&gt;";=
<BR>echo=20
  "&lt;/tr&gt;";<BR>echo "&lt;br&gt;";<BR><BR>}<BR><BR>echo=20
  "&lt;/table&gt;";<BR><BR>?&gt;<BR></FONT><FONT=20
  face=3D"Courier New, Courier, mono"><BR></FONT>FIM DO ARQUIVO=20
  controle.php<BR><BR>O pr=F3ximo passo agora =E9 criar os arquivos=20
  <B>alterar.php</B> e <B>excluir.php</B>, respons=E1veis pela =
altera=E7=E3o e=20
  exclus=E3o dos dados. =C9 muito simples o c=F3digo, veja =
s=F3:<BR><BR>ARQUIVO=20
  excluir.php<BR><BR><FONT size=3D1>&lt;?php<BR><BR>$conexao =3D=20
  mysql_connect("localhost","root","root");<BR>$db =3D=20
  mysql_select_db("noticias");<BR>$sql =3D =93DELETE FROM noticias WHERE =

  id=3D'$id'=94;<BR>$resultado =3D mysql_query($sql)<BR>or die ("N=E3o =
foi poss=EDvel=20
  realizar a exclus=E3o dos dados.");<BR>echo =93&lt;h1&gt;A not=EDcia =
foi exclu=EDda=20
  com =EAxito!&lt;/h1&gt;=94;<BR><BR>?&gt;<BR><BR></FONT>FIM DO ARQUIVO=20
  excluir.php<BR><BR>ARQUIVO alterar.php<BR><BR><FONT=20
  size=3D1>&lt;?php<BR><BR>$conexao =3D=20
  mysql_connect("localhost","root","root");<BR>$db =3D=20
  mysql_select_db("noticias");<BR>$sql =3D "SELECT * FROM noticias WHERE =

  id=3D'$id'";<BR>$resultado =3D mysql_query($sql)<BR>or die ("N=E3o foi =
poss=EDvel=20
  realizar a consulta ao banco de dados");<BR><BR>while=20
  ($linha=3Dmysql_fetch_array($resultado)) {<BR>$id =3D =
$linha["id"];<BR>$nome =3D=20
  $linha["nome"];<BR>$sobrenome =3D $linha["sobrenome"];<BR>$cidade =3D=20
  $linha["cidade"];<BR>$estado =3D $linha["estado"];<BR>$email =3D=20
  $linha["email"];<BR>$data =3D $linha["data"];<BR>$hora =3D=20
  $linha["hora"];<BR>$titulo =3D $linha["titulo"];<BR>$subtitulo =3D=20
  $linha["subtitulo"];<BR>$texto =3D $linha["texto"];<BR>$ver =3D=20
  $linha["ver"];<BR><BR>$novadata =3D substr($data,8,2) . "/" =
.substr($data,5,2) .=20
  "/" . substr($data,0,4);<BR>$novahora =3D substr($hora,0,2) . "h"=20
  .substr($hora,3,2) . "min";<BR><BR>echo "&lt;h1&gt;Alterar=20
  Cadastro...&lt;/h1&gt;";<BR>echo "&lt;hr&gt;&lt;br&gt;";<BR>echo =
"&lt;form=20
  action=3D'alterar_db.php?id=3D$id' method=3D'post'&gt;";<BR>echo =
"C=F3digo da Not=EDcia:=20
  &lt;input name=3D'id_novo' type=3D'text' value=3D'$id'=20
  size=3D20&gt;&lt;br&gt;";<BR>echo "Data: $novadata&lt;br&gt;";<BR>echo =
"Hora:=20
  $novahora&lt;br&gt;";<BR>echo "Nome:&lt;input name=3D'nome_novo' =
type=3D'text'=20
  value=3D'$nome' size=3D30&gt; *&lt;br&gt;";<BR>echo =
"Sobrenome:&lt;input=20
  name=3D'sobrenome_novo' type=3D'text' value=3D'$sobrenome' =
size=3D30&gt;=20
  *&lt;br&gt;";<BR>echo "Cidade:&lt;input name=3D'cidade_novo' =
type=3D'text'=20
  value=3D'$cidade' size=3D30&gt; *&lt;br&gt;";<BR>echo =
"Estado:&lt;i&gt;(Exemplo:=20
  SP, RS, BA)&lt;/i&gt;&lt;input name=3D'estado_novo'=20
  type=3D'text'<BR>value=3D'$estado' size=3D5&gt; *&lt;br&gt;";<BR>echo =
"Email:=20
  &lt;i&gt;(Exemplo: feitosac@yahoo.com)&lt;/i&gt;&lt;input =
name=3D'email_novo'=20
  type=3D'text'<BR>value=3D'$email' =
size=3D30&gt;&lt;br&gt;&lt;br&gt;";<BR>echo=20
  "T=EDtulo do Texto:&lt;input name=3D'titulo_novo' type=3D'text' =
value=3D'$titulo'=20
  size=3D30&gt; *&lt;br&gt;";<BR>echo "Subt=EDtulo do Texto:&lt;textarea =

  name=3D'subtitulo_novo' rows=3D5=20
  cols=3D30&gt;$subtitulo&lt;/textarea&gt;&lt;br&gt;";<BR>echo =
"Texto:&lt;textarea=20
  name=3D'texto_novo' rows=3D10 cols=3D30&gt;$texto&lt;/textarea&gt;=20
  *&lt;br&gt;";<BR>echo "Disponibilizar? (on ou off): &lt;input =
name=3D'ver_novo'=20
  type=3D'text' value=3D'$ver' size=3D5&gt;&lt;br&gt;";<BR>echo =
"&lt;input=20
  type=3D'submit' value=3D'Alterar'&gt;";<BR>echo =
"&lt;/form&gt;";<BR>echo=20
  "&lt;br&gt;&lt;hr&gt;";<BR>}<BR><BR>?&gt;<BR></FONT><FONT=20
  face=3D"Courier New, Courier, mono"><BR></FONT>FIM DO ARQUIVO=20
  alterar.php<BR><BR>Agora basta criarmos o arquivo =
<B>alterar_db.php</B> que=20
  ir=E1 receber os dados deste arquivo (alterar.php) e alterar=E1 seus =
respectivos=20
  dados no MySQL. =C9 muito simples:<BR><BR>ARQUIVO =
alterar_db.php<BR><BR><FONT=20
  size=3D1>&lt;?php<BR><BR>$conexao =3D=20
  mysql_connect("localhost","root","root");<BR>$db =3D=20
  mysql_select_db("noticias");<BR>$sql =3D "UPDATE noticias SET=20
  =
id=3D'$id_novo',nome=3D'$nome_novo'<BR>,sobrenome=3D'$sobrenome_novo',cid=
ade=3D'$cidade_novo',estado=3D'$estado_novo'<BR>,email=3D'$email_novo',ti=
tulo=3D'$titulo_novo',subtitulo=3D'$subtitulo_novo'<BR>,texto=3D'$texto_n=
ovo',ver=3D'$ver_novo'=20
  WHERE id=3D'$id'";<BR>$resultado =3D mysql_query($sql)<BR>or die =
("N=E3o foi=20
  poss=EDvel realizar a consulta ao banco de dados");<BR>echo =
"&lt;h1&gt;Not=EDcia=20
  alterada com sucesso!&lt;/h1&gt;";<BR><BR>?&gt;<BR></FONT><FONT=20
  face=3D"Courier New, Courier, mono"><BR></FONT>FIM DO ARQUIVO=20
  alterar_db.php<BR><BR>Tutorial por:<BR>Ciro Feitosa<A=20
  href=3D"mailto:feitosac@yahoo.com"><BR><A =
href=3D"http://cirofeitosa.com.br/"=20
  =
target=3D_blank>http://cirofeitosa.com.br/</A><BR>feitosac@yahoo.com</A><=
/FONT>=20
  <BR></LI></UL></BODY></HTML>
