<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd"><html><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"><title>Allegro Newbie Tutorial</title><link href="style1.css" rel="stylesheet" type="text/css"></head><body><center><div class="mainBox">  <div align="left">    <div class="borderBottom"><span class="headerText">Allegro Newbie Tutorial</span> : Lesson 3 - Clipping Bitmaps &amp; Keyboard Input <br>      This lesson will do all general initialization, draw two 'clipped' bitmaps, and read a key. Upon the keypress the program will then quit.</div>    </div>  <div align="left"><br>    Always include the header. <br>    <br>    <div class="codeBox">#include &lt;allegro.h&gt; // You must include the Allegro Header file</div>    <br>    Set up the main function, initialize allegro, install the keyboard, set the color depth, and change the color resolution. This part of your allegro programs should start getting familiar.    <br>    <br>    <div class="codeBox">int main(int argc, char *argv[]) <br>{ <br>&nbsp; allegro_init(); // Initialize Allegro <br>&nbsp; install_keyboard(); // Initialize keyboard routines &nbsp;<br>&nbsp; set_color_depth(16); // Set the color depth <br>&nbsp; set_gfx_mode(GFX_AUTODETECT, 640,480,0,0); // Change our graphics mode to 640x480</div>    <br>    Create a bitmap and load the picture into memory; this should be familiar as well.    <br>    <br>    <div class="codeBox">BITMAP *my_pic = NULL; //Declare a BITMAP called my_pic <br>my_pic = load_bitmap(&quot;picture.bmp&quot;, NULL); // Load our picture</div>    <br>Here we will be blitting the same picture from lesson 2 onto the screen, but this time we will blit 2 'clipped images' of it - so that we can gain some experience using the other parameters of the blit function.<br><br>The first call to blit will place the picture at (0,0), starting the 'clip' from (0,0): the upper left hand corner. Notice how I changed the <em>size</em> (<em>width/height</em>) of the bitmap? Well, this will draw from (0,0) to (50,50)! That is how you clip the right and bottom sides of the image.<p> The second call to blit simply clips from (50,50) instead of (0,0), and will extend to (150,150) on the bitmap of the picture  and draws it to the coordinates (100,100). </p><p> Clipping is pretty easy: <br>&nbsp;&nbsp;&nbsp; Set the upper left hand corner - and then set the lower right hand corner of the 'section' of the bitmap you wish to draw!</p><p> As you can see, you can keep drawing the same bitmap (in this case my_pic) as many times as you like. Put in your own extra blit function, and blit another portion of the image.<br></p>    <div class="codeBox">blit(my_pic, screen, 0,0,0,0,50,50);&nbsp;//&nbsp;Draw from 0,0 to 50,50 on the screen at (0,0) <br>blit(my_pic, screen, 50,50,100,100,150,150);&nbsp;//&nbsp;Draw from 50,50 to 150,150 on the screen at (100,100)</div>    <p> Wait for a keypress. . .<br>    </p>    <div class="codeBox">readkey();// Wait untill a key is pressed</div>    <p> and then shut down. <br>    </p>    <div class="codeBox">&nbsp;destroy_bitmap(my_pic);&nbsp;//Release the bitmap data <br>&nbsp;return 0;&nbsp;// Exit with no errors <br>} <br>END_OF_MAIN() // This must be called right after the closing bracket of your MAIN function.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// It is Allegro specific.</div>    <p> This concludes Lesson 3. You now know how to set up an allegro environment and change the resolution of the screen and display a clipped bitmap. </p>        <a href="alltut_lesson4.htm">Continue to Lesson 4</a><br>        <a href="alltut_index.htm">Back to the main page</a><br>        <br>  </div></div></center></body></html>